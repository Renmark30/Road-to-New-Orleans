<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Road to New Orleans</title>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Base styles for the body and root elements */
        :root {
            font-family: 'Inter', sans-serif; /* Default font for the game content */
        }

        h1, h2 {
            font-family: 'Merriweather', serif; /* Headings use Merriweather */
        }

        /* Define CSS variables for themes */
        /* Light Theme (default) */
        .light {
            --bg-color: #f8f8f8;
            --text-color-primary: #1a202c;
            --text-color-secondary: #4a5568;
            --card-bg: #ffffff;
            --card-border: #e2e8f0;
            --stat-bg: #f0f4f8;
            --stat-text: #2d3748;
            --outline-color: #e2e8f0; /* Default outline for light theme */
        }

        /* Dark Theme */
        .dark {
            --bg-color: #2d3748;
            --text-color-primary: #ffffff;
            --text-color-secondary: #a0aec0;
            --card-bg: #1a202c;
            --card-border: #4a5568;
            --stat-bg: #2d3748;
            --stat-text: #e2e8f0;
            --outline-color: #4a5568; /* Outline for dark theme */
        }

        /* Midnight Theme */
        .midnight {
            --bg-color: #000000; /* Black background */
            --text-color-primary: #e0e0e0; /* Light grey text */
            --text-color-secondary: #b0b0b0; /* Slightly darker grey text */
            --card-bg: #000000; /* Black card background */
            --card-border: #616161; /* Grey outline for cards */
            --stat-bg: #1a1a1a; /* Dark grey for stat backgrounds */
            --stat-text: #bdbdbd; /* Lighter grey for stat text */
            --outline-color: #616161; /* Grey outline for elements */
        }

        /* Apply theme variables to elements based on the class on the body/main container */
        body {
            background-color: var(--bg-color);
            color: var(--text-color-primary);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .game-container {
            background-color: var(--card-bg);
            border-color: var(--card-border);
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        .game-container h1 {
            color: var(--text-color-primary);
            transition: color 0.3s ease;
        }

        .game-message, .scenario-description {
            color: var(--text-color-secondary);
            transition: color 0.3s ease;
        }

        .stat-panel p, .inventory-panel p, .inventory-panel li {
            color: var(--text-color-secondary);
            transition: color 0.3s ease;
        }

        .stat-panel div, .inventory-panel {
            background-color: var(--stat-bg);
            transition: background-color 0.3s ease;
        }

        /* Specific text color adjustments for midnight theme */
        .midnight .text-gray-900, .midnight .text-white { color: var(--text-color-primary); }
        .midnight .text-gray-800 { color: var(--text-color-primary); }
        .midnight .text-gray-700 { color: var(--text-color-secondary); }
        .midnight .text-gray-600 { color: var(--text-color-secondary); }
        .midnight .font-bold { color: var(--text-color-primary); } /* Ensure bold text is primary color */

        /* Add subtle outlines for midnight theme */
        .midnight .game-container,
        .midnight .stat-panel div,
        .midnight .inventory-panel {
            border-width: 1px;
            border-style: solid;
            border-color: var(--outline-color);
        }

        /* Remove shadow for midnight theme if it conflicts */
        .midnight .shadow-xl {
            box-shadow: none;
        }

        /* Specific style for health warning message */
        #healthWarning {
            font-family: 'Times New Roman', serif;
            color: #dc2626; /* Red color for warning */
            font-weight: bold;
            text-align: center;
            margin-bottom: 1rem;
            animation: pulse 1s infinite alternate; /* Simple pulse animation */
        }

        @keyframes pulse {
            from { opacity: 1; }
            to { opacity: 0.7; }
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 640px) {
            .max-w-md {
                max-width: 100%; /* Full width on small screens */
            }
            .p-6 {
                padding: 1rem; /* Reduce padding on small screens */
            }
            .text-3xl {
                font-size: 2rem; /* Adjust title size */
            }
            .text-xl {
                font-size: 1.125rem; /* Adjust scenario description size */
            }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 light">
    <div class="game-container p-6 rounded-xl shadow-xl w-full max-w-md border-2">
        <h1 class="text-3xl font-extrabold mb-6 text-center">The Road to New Orleans</h1>

        <div class="flex justify-center space-x-2 mb-6">
            <button id="lightThemeBtn" class="px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 bg-blue-500 text-white shadow-lg hover:scale-105 hover:shadow-xl">
                Light
            </button>
            <button id="darkThemeBtn" class="px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 bg-gray-200 text-gray-800 shadow-lg hover:scale-105 hover:shadow-xl">
                Dark
            </button>
            <button id="midnightThemeBtn" class="px-4 py-2 rounded-xl text-sm font-medium transition-all duration-200 bg-gray-200 text-gray-800 shadow-lg hover:scale-105 hover:shadow-xl">
                Midnight
            </button>
        </div>

        <div id="difficultySelectionPanel" class="text-center">
            <h2 class="text-2xl font-bold mb-4">Choose Your Difficulty</h2>
            <div class="grid grid-cols-2 gap-4">
                <button id="easyBtn" class="px-6 py-3 bg-green-500 text-white rounded-xl hover:bg-green-600 transition-all duration-200 shadow-lg hover:scale-105 hover:shadow-xl">
                    Easy
                </button>
                <button id="normalBtn" class="px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-all duration-200 shadow-lg hover:scale-105 hover:shadow-xl">
                    Normal
                </button>
                <button id="hardBtn" class="px-6 py-3 bg-yellow-500 text-white rounded-xl hover:bg-yellow-600 transition-all duration-200 shadow-lg hover:scale-105 hover:shadow-xl">
                    Hard
                </button>
                <button id="challengeBtn" class="px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all duration-200 shadow-lg hover:scale-105 hover:shadow-xl">
                    Challenge
                </button>
            </div>
        </div>

        <div id="gameStateDisplay" class="hidden">
            <p id="healthWarning" class="hidden text-red-600 text-lg mb-4"></p>

            <div id="gameOverPanel" class="text-center hidden">
                <p id="gameOverMessage" class="text-xl font-semibold mb-4"></p>
                <button id="startGameBtn" class="px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 shadow-lg hover:scale-105 hover:shadow-xl">
                    Start New Game
                </button>
            </div>

            <div id="gameScenarioPanel">
                <p id="gameMessage" class="mb-4 text-center text-lg"></p>
                <p id="scenarioDescription" class="text-xl font-semibold mb-6 text-center"></p>

                <div class="grid grid-cols-2 gap-4 mb-6 text-sm stat-panel">
                    <div class="p-3 rounded-xl border">
                        <p>Time: <span id="dayStat" class="font-bold"></span></p>
                        <p>Miles: <span id="mileStat" class="font-bold"></span> / 510</p>
                        <p>Location: <span id="locationStat" class="font-bold"></span></p>
                    </div>
                    <div class="p-3 rounded-xl border">
                        <p>Health: <span id="healthStat" class="font-bold"></span>%</p>
                        <p>Stamina: <span id="staminaStat" class="font-bold"></span>%</p>
                        <p>Money: $<span id="moneyStat" class="font-bold"></span></p>
                        <p>Bike: <span id="bikeStat" class="font-bold"></span>%</p>
                        <p>Joy: <span id="joyStat" class="font-bold"></span>%</p>
                    </div>
                </div>

                <div class="mb-6 p-3 rounded-xl inventory-panel border">
                    <p class="font-bold mb-1">Inventory:</p>
                    <ul id="inventoryList" class="list-disc list-inside">
                        </ul>
                </div>

                <div class="flex justify-center space-x-4">
                    <button id="yesBtn" class="px-6 py-3 bg-green-600 text-white rounded-xl hover:bg-green-700 transition-all duration-200 shadow-lg hover:scale-105 hover:shadow-xl">
                        Yes
                    </button>
                    <button id="noBtn" class="px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all duration-200 shadow-lg hover:scale-105 hover:shadow-xl">
                        No
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // game.js: Core game logic and UI updates.
        document.addEventListener('DOMContentLoaded', () => {

            // --- DOM Elements ---
            const body = document.body;
            const lightThemeBtn = document.getElementById('lightThemeBtn');
            const darkThemeBtn = document.getElementById('darkThemeBtn');
            const midnightThemeBtn = document.getElementById('midnightThemeBtn');

            const difficultySelectionPanel = document.getElementById('difficultySelectionPanel');
            const easyBtn = document.getElementById('easyBtn');
            const normalBtn = document.getElementById('normalBtn');
            const hardBtn = document.getElementById('hardBtn');
            const challengeBtn = document.getElementById('challengeBtn');

            const gameStateDisplay = document.getElementById('gameStateDisplay');
            const healthWarningElem = document.getElementById('healthWarning');
            const gameOverPanel = document.getElementById('gameOverPanel');
            const gameOverMessage = document.getElementById('gameOverMessage');
            const startGameBtn = document.getElementById('startGameBtn');
            const gameScenarioPanel = document.getElementById('gameScenarioPanel');

            const gameMessageElem = document.getElementById('gameMessage');
            const scenarioDescriptionElem = document.getElementById('scenarioDescription');
            const dayStatElem = document.getElementById('dayStat');
            const mileStatElem = document.getElementById('mileStat');
            const locationStatElem = document.getElementById('locationStat');
            const healthStatElem = document.getElementById('healthStat');
            const staminaStatElem = document.getElementById('staminaStat');
            const moneyStatElem = document.getElementById('moneyStat');
            const bikeStatElem = document.getElementById('bikeStat');
            const joyStatElem = document.getElementById('joyStat');
            const inventoryListElem = document.getElementById('inventoryList');
            const yesBtn = document = document.getElementById('yesBtn');
            const noBtn = document.getElementById('noBtn');

            // --- Difficulty Settings ---
            const difficultySettings = {
                'easy': {
                    initialStats: 60,
                    initialMoney: 250,
                    statChangeMultipliers: {
                        increase: 1.2, // Stats increase 20% faster
                        decrease: 0.8  // Stats decrease 20% slower
                    },
                    warningMessage: "You may die soon",
                    timeLimitDays: 15 // New: Time limit for Easy mode
                },
                'normal': {
                    initialStats: 50,
                    initialMoney: 198,
                    statChangeMultipliers: {
                        increase: 1.0,
                        decrease: 1.0
                    },
                    warningMessage: "You may die soon",
                    timeLimitDays: 12 // New: Time limit for Normal mode
                },
                'hard': {
                    initialStats: 45,
                    initialMoney: 152,
                    statChangeMultipliers: {
                        increase: 0.8, // Stats increase 20% slower
                        decrease: 1.2  // Stats decrease 20% faster
                    },
                    warningMessage: "You may die soon",
                    timeLimitDays: 9 // New: Time limit for Hard mode
                },
                'challenge': {
                    initialStats: 32,
                    initialMoney: 72,
                    statChangeMultipliers: {
                        increase: 0.5, // Stats increase 50% slower
                        decrease: 1.5  // Stats decrease 50% faster
                    },
                    warningMessage: "You are going to die soon",
                    timeLimitDays: 8 // New: Time limit for Challenge mode
                }
            };

            // --- Game State ---
            let gameState = {
                currentLocation: 'Dallas, Texas',
                day: 1, // Represents day and fractional part for hours
                message: 'Welcome to your epic bike adventure from Dallas to New Orleans!',
                playerStats: {
                    health: 50,
                    stamina: 50,
                    money: 213,
                    bikeCondition: 50,
                    joy: 50,
                    inventory: ['water bottle', 'bike pump', 'basic repair kit', 'energy bar']
                },
                currentScenario: null,
                gameOver: false,
                gameWon: false,
                mileCount: 0,
                selectedDifficulty: 'normal', // Default difficulty
                statChangeMultipliers: { increase: 1.0, decrease: 1.0 } // Default multipliers
            };

            // --- Scenarios ---
            const scenarios = {
                'start': {
                    id: 'start',
                    description: "You're in Dallas, 2025, ready to embark on your bike journey to New Orleans. You've packed your gear and your bike is in top shape. Do you want to take a moment to double-check your tire pressure before you hit the road?",
                    locationTags: ['Dallas'],
                    yesOutcome: {
                        message: "Good call! A quick check confirms optimal pressure. You feel prepared and confident.",
                        statsChange: { stamina: -2, joy: +1 }
                    },
                    noOutcome: {
                        message: "You're eager to go! You hop on your bike, trusting your earlier prep. Time to roll!",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_001': {
                    id: 'scenario_001',
                    description: "The forecast for your first leg out of Dallas warns of extreme temperatures. Do you want to start early to beat some of the heat?",
                    locationTags: ['Dallas', 'East Texas'],
                    yesOutcome: {
                        message: "You rise before dawn, enjoying the cooler air. You feel a bit tired but grateful for the early start.",
                        statsChange: { stamina: -5, joy: +2 }
                    },
                    noOutcome: {
                        message: "You stick to your usual schedule, but the midday sun quickly makes the ride tough. You feel the heat draining you.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_002': {
                    id: 'scenario_002',
                    description: "You're cycling through East Texas, and the road ahead looks rough with visible potholes. Do you want to carefully weave around them?",
                    locationTags: ['East Texas', 'general'],
                    yesOutcome: {
                        message: "You skillfully navigate the potholes, saving your bike from major jolts.",
                        statsChange: { stamina: -3, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ride over them, feeling a harsh bump. Your bike takes a minor hit.",
                        statsChange: { bikeCondition: -3, joy: -1 }
                    }
                },
                'scenario_003': {
                    id: 'scenario_003',
                    description: "You spot a small, independent bike shop in a tiny town. Your brakes feel a little spongy. Do you want to stop to have them checked?",
                    locationTags: ['general', 'East Texas', 'Shreveport', 'Natchitoches', 'Lafayette', 'Baton Rouge'],
                    cost: { money: 20 },
                    yesOutcome: {
                        message: "The mechanic quickly adjusts your brakes. They feel much better, but it cost you a bit of time and money.",
                        statsChange: { money: -20, day: 0.1, bikeCondition: +5, joy: +3 }
                    },
                    noOutcome: {
                        message: "You decide to push on. The brakes are still a bit spongy, which adds a slight risk.",
                        statsChange: { bikeCondition: -5, joy: -2 }
                    }
                },
                'scenario_004': {
                    id: 'scenario_004',
                    description: "A strong headwind picks up, making pedaling much harder. Do you want to find a sheltered spot to wait it out for a while?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You find a small diner and wait for the wind to die down. You lose time but conserve energy. The owner offers you a small job for some cash.",
                        statsChange: { stamina: +5, day: 0.2, money: +15, joy: +5 }
                    },
                    noOutcome: {
                        message: "You push hard against the wind, making progress but feeling exhausted.",
                        statsChange: { stamina: -15, health: -5, joy: -3 }
                    }
                },
                'scenario_005': {
                    id: 'scenario_005',
                    description: "You're feeling hungry, and your energy bar supply is low. You see a gas station with a convenience store. Do you want to stop to buy more snacks?",
                    locationTags: ['general'],
                    cost: { money: 10 },
                    yesOutcome: {
                        message: "You grab some extra energy bars and a drink. Your stamina gets a boost, but your wallet takes a hit.",
                        statsChange: { stamina: +10, money: -10, inventory: ['energy bar', 'energy bar'], joy: +2 }
                    },
                    noOutcome: {
                        message: "You decide to push through. Your hunger pangs increase, but you save your money.",
                        statsChange: { stamina: -5, joy: -1 }
                    }
                },
                'scenario_006': {
                    id: 'scenario_006',
                    description: "You encounter a stretch of road with heavy truck traffic. The shoulder is narrow. Do you want to take a detour onto a less-traveled, but potentially unpaved, road?",
                    locationTags: ['general', 'East Texas'],
                    yesOutcome: {
                        message: "You take the detour. The unpaved road is bumpy, but peaceful. It takes longer and stresses your bike.",
                        statsChange: { bikeCondition: -8, day: 0.1, joy: +2 }
                    },
                    noOutcome: {
                        message: "You stick to the shoulder, feeling the rush of passing trucks. It's unnerving but direct.",
                        statsChange: { health: -5, stamina: -5, joy: -3 }
                    }
                },
                'scenario_007': {
                    id: 'scenario_007',
                    description: "You arrive in a small town. It's getting late, and you're tired. Do you want to look for a cheap motel to rest?",
                    locationTags: ['general'],
                    cost: { money: 70 },
                    yesOutcome: {
                        message: "You find a basic motel. A good night's sleep fully restores your health and stamina, but costs money.",
                        statsChange: { health: 100, stamina: 100, money: -70, day: 1, joy: +10 }
                    },
                    noOutcome: {
                        message: "You try to find a discreet spot to stealth camp. The sleep is restless, but it's free.",
                        statsChange: { health: +10, stamina: +30, day: 1, joy: -5 }
                    }
                },
                'scenario_008': {
                    id: 'scenario_008',
                    description: "The next morning, you notice your chain is squeaky. Do you want to take the time to clean and lube it properly?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "A clean chain makes for a smoother ride. You feel more efficient, but it took time.",
                        statsChange: { bikeCondition: +5, stamina: -2, joy: +2 }
                    },
                    noOutcome: {
                        message: "You just give it a quick squirt of oil and keep moving. The quick lube helps for a bit, but the squeak returns later. Your bike's condition suffers slightly.",
                        statsChange: { bikeCondition: -2, joy: -1 }
                    }
                },
                'scenario_009': {
                    id: 'scenario_009',
                    description: "You're approaching Shreveport, Louisiana. The city has a good bike path system, but also some busy roads. Do you want to navigate directly through the city to save time?",
                    locationTags: ['Shreveport'],
                    yesOutcome: {
                        message: "You brave the city traffic. It's a bit stressful, but you make good time. Watch out for potholes!",
                        statsChange: { stamina: -10, bikeCondition: -5, joy: -3 }
                    },
                    noOutcome: {
                        message: "You take a slightly longer, less direct route on quieter backroads. The ride is more peaceful, with less traffic, but it adds a few extra miles.",
                        statsChange: { stamina: -5, day: 0.1, joy: +2 }
                    }
                },
                'scenario_010': {
                    id: 'scenario_010',
                    description: "While in Shreveport, you pass by Orlandeaux's Caf√©, a historic African American family-owned restaurant known for Creole food. Do you want to stop for an authentic local meal?",
                    locationTags: ['Shreveport'],
                    cost: { money: 25 },
                    yesOutcome: {
                        message: "The food is amazing! You feel fully satisfied and experience local culture. It's a bit pricey.",
                        statsChange: { health: +15, stamina: +10, money: -25, joy: +8 }
                    },
                    noOutcome: {
                        message: "You decide to save money and keep riding. You grab a quick snack from your inventory.",
                        statsChange: { stamina: -2, joy: -1 }
                    }
                },
                'scenario_011': {
                    id: 'scenario_011',
                    description: "Leaving Shreveport, you notice a large, dark cloud formation in the distance. It looks like a storm is brewing. Do you want to pick up your pace to outrun it?",
                    locationTags: ['Shreveport', 'general'],
                    yesOutcome: {
                        message: "You push hard, but the storm catches you. You get soaked but find a gas station to wait it out.",
                        statsChange: { stamina: -15, bikeCondition: -5, joy: -4 }
                    },
                    noOutcome: {
                        message: "You look for immediate shelter. You find a sturdy overhang and wait for the storm to pass. You lose time but conserve energy.",
                        statsChange: { day: 0.1, joy: +1 }
                    }
                },
                'scenario_012': {
                    id: 'scenario_012',
                    description: "The road becomes quite bumpy, and you feel a strange wobble in your front wheel. Do you want to stop to inspect it thoroughly?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You discover a loose spoke and tighten it. Good catch! It prevents further damage.",
                        statsChange: { bikeCondition: +2, joy: +2 }
                    },
                    noOutcome: {
                        message: "You assume it's just the road and keep going. The wobble persists, and the constant vibration puts more strain on your bike.",
                        statsChange: { bikeCondition: -7, joy: -3 }
                    }
                },
                'scenario_013': {
                    id: 'scenario_013',
                    description: "You pass a beautiful, serene lake with a small public park. It's a perfect spot for a break. Do you want to stop to enjoy the view and rest?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The peaceful scenery is refreshing. You feel revitalized and ready for the next leg.",
                        statsChange: { health: +10, stamina: +10, joy: +5 }
                    },
                    noOutcome: {
                        message: "You continue pushing to make better time. You make good time, but the fatigue starts to set in more deeply.",
                        statsChange: { stamina: -5, joy: -1 }
                    }
                },
                'scenario_014': {
                    id: 'scenario_014',
                    description: "You notice a sign for a local festival in a nearby town, promising live music and food. Do you want to take a detour to experience the local culture?",
                    locationTags: ['general', 'Natchitoches', 'Lafayette'],
                    cost: { money: 30 },
                    yesOutcome: {
                        message: "The festival is vibrant! You enjoy the music and food, but it costs you half a day and some money.",
                        statsChange: { health: +10, stamina: +10, money: -30, day: 0.5, joy: +10 }
                    },
                    noOutcome: {
                        message: "You stick to your planned route. You save time and money, but miss out on the fun.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_015': {
                    id: 'scenario_015',
                    description: "Your water bottle is almost empty, and the sun is beating down. You see a house with a garden hose running. Do you want to ask the residents if you can refill your bottle?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The friendly residents happily let you refill. You're grateful for the fresh water and feel rehydrated.",
                        statsChange: { stamina: +5, joy: +3 }
                    },
                    noOutcome: {
                        message: "You wait until the next town. You push on, feeling the effects of dehydration. Your stamina drops.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_016': {
                    id: 'scenario_016',
                    description: "You're passing through a densely wooded area. The road is quiet, but you hear strange rustling noises in the bushes. Do you want to speed up to get through quickly?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You pedal faster, getting out of the woods quickly. You feel a bit stressed.",
                        statsChange: { stamina: -5, joy: -2 }
                    },
                    noOutcome: {
                        message: "You slow down and stay vigilant. You don't see anything, but you feel safer.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_017': {
                    id: 'scenario_017',
                    description: "Your phone battery is critically low, and you rely on it for navigation. You see a small general store. Do you want to stop to buy a cheap portable charger?",
                    locationTags: ['general'],
                    cost: { money: 15 },
                    yesOutcome: {
                        message: "You buy a portable charger. It's a small investment for peace of mind and continued navigation.",
                        statsChange: { money: -15, inventory: ['portable charger'], joy: +3 }
                    },
                    noOutcome: {
                        message: "You risk running out of power. You decide to save your money. You hope your phone lasts, but you feel a bit anxious.",
                        statsChange: { joy: -4 }
                    }
                },
                'scenario_018': {
                    id: 'scenario_018',
                    description: "You come across a detour sign indicating road construction ahead. The alternative route is longer but looks smoother. Do you want to follow the detour?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You follow the detour. It adds extra miles but the ride is smooth and safe.",
                        statsChange: { stamina: -8, day: 0.1, joy: +2 }
                    },
                    noOutcome: {
                        message: "You try to find a way through the construction zone. It's risky and bumpy, but you save time.",
                        statsChange: { bikeCondition: -10, health: -5, joy: -4 }
                    }
                },
                'scenario_019': {
                    id: 'scenario_019',
                    description: "You're feeling a dull ache in your knee. It's not severe, but noticeable. Do you want to take some ibuprofen and rest for a bit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You take a short break and some pain relief. The ache subsides, and you feel better, though you lost some time.",
                        statsChange: { health: +5, stamina: +5, day: 0.05, joy: +4 }
                    },
                    noOutcome: {
                        message: "You try to ignore it and keep riding. The ache slowly worsens, impacting your performance.",
                        statsChange: { health: -8, stamina: -5, joy: -3 }
                    }
                },
                'scenario_020': {
                    id: 'scenario_020',
                    description: "You pass a field of beautiful wildflowers. It looks like a perfect photo opportunity. Do you want to stop to take some pictures?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You capture some stunning photos. The short break is enjoyable, and you feel a little happier.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding to maintain your pace. You admire them as you pass by. You stay on schedule, but miss the chance for a memorable photo.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_021': {
                    id: 'scenario_021',
                    description: "You notice a small tear in your bike seat. It's not critical yet, but could worsen. Do you want to patch it with duct tape from your kit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a makeshift duct tape patch. It's not pretty, but it should prevent further tearing for a while.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it for now. The tear slowly gets bigger, making the seat less comfortable and more prone to damage.",
                        statsChange: { bikeCondition: -3, joy: -2 }
                    }
                },
                'scenario_022': {
                    id: 'scenario_022',
                    description: "You're feeling a bit lonely on the long road. You see another cyclist ahead, riding at a similar pace. Do you want to try to catch up and ride with them for a while?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You strike up a conversation and ride together for a few miles. It's a pleasant distraction and boosts your morale.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You maintain your own rhythm. You stay focused, but the solitude continues.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_023': {
                    id: 'scenario_023',
                    description: "A sudden, strong crosswind hits you, making it difficult to stay upright. Do you want to dismount and walk your bike until it calms?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You dismount and walk. It's safer but slower. You lose some time.",
                        statsChange: { day: 0.05, joy: +1 }
                    },
                    noOutcome: {
                        message: "You lean into the wind and fight it. You battle the wind, using a lot of energy to stay on course. It's tough but you make progress.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_024': {
                    id: 'scenario_024',
                    description: "You're getting close to Natchitoches, Louisiana, known for its historic district and meat pies. Do you want to stop and explore?",
                    locationTags: ['Natchitoches'],
                    cost: { money: 20 },
                    yesOutcome: {
                        message: "You spend a few hours exploring the charming historic district and enjoy a delicious meat pie. It's a nice cultural break, but costs time and money.",
                        statsChange: { health: +10, stamina: +5, money: -20, day: 0.2, joy: +8 }
                    },
                    noOutcome: {
                        message: "You just pass through. You cycle past, admiring from a distance. You save time and money, but miss out on a unique experience.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_025': {
                    id: 'scenario_025',
                    description: "You notice a small, abandoned-looking shack by the road. There's an old, rusty bike leaning against it. Do you want to stop to investigate the shack?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cautiously approach. Inside, you find nothing of value, but disturb some wasps. You get a minor sting.",
                        statsChange: { health: -5, joy: -3 }
                    },
                    noOutcome: {
                        message: "You decide against investigating. Better safe than sorry.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_026': {
                    id: 'scenario_026',
                    description: "Your chain slips unexpectedly, causing you to almost lose balance. Do you want to try to fix it on the spot?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You manage to adjust the derailleur, but it takes some effort and a bit of frustration.",
                        statsChange: { stamina: -5, joy: -2 }
                    },
                    noOutcome: {
                        message: "You carefully ride to the next town for a proper repair. The chain continues to skip occasionally, making the ride less efficient and more risky.",
                        statsChange: { bikeCondition: -7, joy: -3 }
                    }
                },
                'scenario_027': {
                    id: 'scenario_027',
                    description: "You come across a group of cyclists heading in the opposite direction. They wave and seem friendly. Do you want to stop to chat and exchange tips?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You have a brief, pleasant chat. You gain some useful information about the road ahead, and a morale boost.",
                        statsChange: { health: +3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You just wave back and continue. You maintain your pace, but miss a chance for connection.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_028': {
                    id: 'scenario_028',
                    description: "You find a discarded lottery ticket on the ground. Do you want to pick it up and check the numbers?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You check the ticket... and it's a winner! A small but welcome prize.",
                        statsChange: { money: +50, joy: +10 }
                    },
                    noOutcome: {
                        message: "You leave the ticket. You're focused on your ride.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_029': {
                    id: 'scenario_029',
                    description: "You pass a small, local library offering free Wi-Fi. Do you want to stop to check messages and relax for a bit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You catch up on news and messages. It's a nice mental break.",
                        statsChange: { health: +2, joy: +3 }
                    },
                    noOutcome: {
                        message: "You keep riding, prioritizing your mileage.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_030': {
                    id: 'scenario_030',
                    description: "You find a lost wallet on the side of the road. It contains identification and some cash. Do you want to try to return it to the owner?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You find the owner and return the wallet. They are incredibly grateful and offer you a reward.",
                        statsChange: { money: +75, joy: +15 }
                    },
                    noOutcome: {
                        message: "You decide to keep the wallet for yourself. You gain some money, but feel a pang of guilt.",
                        statsChange: { money: +75, joy: -10 }
                    }
                },
                'scenario_031': {
                    id: 'scenario_031',
                    description: "You see a local sign advertising a small, paid odd-job opportunity (e.g., helping move boxes). Do you want to stop and earn some extra cash?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You spend an hour helping out. It's tiring, but you earn some much-needed money.",
                        statsChange: { stamina: -10, money: +40, day: 0.1, joy: +5 }
                    },
                    noOutcome: {
                        message: "You decide to keep riding, prioritizing your journey.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_032': {
                    id: 'scenario_032',
                    description: "You pass a vibrant street art installation. Do you want to stop to admire the artwork?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The artwork is stunning and inspiring. You feel a boost in spirits.",
                        statsChange: { joy: +4 }
                    },
                    noOutcome: {
                        message: "You keep riding, focused on your destination.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_033': {
                    id: 'scenario_033',
                    description: "You notice a small, abandoned-looking shack by the road. There's an old, rusty bike leaning against it. Do you want to stop to investigate the shack?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cautiously approach. Inside, you find nothing of value, but disturb some wasps. You get a minor sting.",
                        statsChange: { health: -5, joy: -3 }
                    },
                    noOutcome: {
                        message: "You decide against investigating. Better safe than sorry.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_034': {
                    id: 'scenario_034',
                    description: "Your chain slips unexpectedly, causing you to almost lose balance. Do you want to try to fix it on the spot?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You manage to adjust the derailleur, but it takes some effort and a bit of frustration.",
                        statsChange: { stamina: -5, joy: -2 }
                    },
                    noOutcome: {
                        message: "You carefully ride to the next town for a proper repair. The chain continues to skip occasionally, making the ride less efficient and more risky.",
                        statsChange: { bikeCondition: -7, joy: -3 }
                    }
                },
                'scenario_035': {
                    id: 'scenario_035',
                    description: "You come across a group of cyclists heading in the opposite direction. They wave and seem friendly. Do you want to stop to chat and exchange tips?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You have a brief, pleasant chat. You gain some useful information about the road ahead, and a morale boost.",
                        statsChange: { health: +3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You just wave back and continue. You maintain your pace, but miss a chance for connection.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_036': {
                    id: 'scenario_036',
                    description: "You find a coupon for a free coffee at a local cafe. Do you want to take a short detour to redeem it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The coffee is a welcome boost, and the short break is refreshing.",
                        statsChange: { stamina: +5, joy: +5, day: 0.05 }
                    },
                    noOutcome: {
                        message: "You decide to save time and keep riding.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_037': {
                    id: 'scenario_037',
                    description: "You see a sign for a local swimming hole. The day is hot. Do you want to stop for a refreshing swim?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The swim is incredibly refreshing, washing away the heat and fatigue.",
                        statsChange: { health: +10, stamina: +10, joy: +10 }
                    },
                    noOutcome: {
                        message: "You keep riding, enduring the heat.",
                        statsChange: { stamina: -3, joy: -2 }
                    }
                },
                'scenario_038': {
                    id: 'scenario_038',
                    description: "You find a small, forgotten bag of coins on the ground. Do you want to pick it up?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You pick up the coins. It's not a fortune, but every bit helps!",
                        statsChange: { money: +10, joy: +2 }
                    },
                    noOutcome: {
                        message: "You leave the coins. You're focused on your ride.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_039': {
                    id: 'scenario_039',
                    description: "You notice a small tear in your bike seat. It's not critical yet, but could worsen. Do you want to patch it with duct tape from your kit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a makeshift duct tape patch. It's not pretty, but it should prevent further tearing for a while.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it for now. The tear slowly gets bigger, making the seat less comfortable and more prone to damage.",
                        statsChange: { bikeCondition: -3, joy: -2 }
                    }
                },
                'scenario_040': {
                    id: 'scenario_040',
                    description: "You're feeling a bit lonely on the long road. You see another cyclist ahead, riding at a similar pace. Do you want to try to catch up and ride with them for a while?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You strike up a conversation and ride together for a few miles. It's a pleasant distraction and boosts your morale.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You maintain your own rhythm. You stay focused, but the solitude continues.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_041': {
                    id: 'scenario_041',
                    description: "A sudden, strong crosswind hits you, making it difficult to stay upright. Do you want to dismount and walk your bike until it calms?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You dismount and walk. It's safer but slower. You lose some time.",
                        statsChange: { day: 0.05, joy: +1 }
                    },
                    noOutcome: {
                        message: "You lean into the wind and fight it. You battle the wind, using a lot of energy to stay on course. It's tough but you make progress.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_042': {
                    id: 'scenario_042',
                    description: "You're getting close to Natchitoches, Louisiana, known for its historic district and meat pies. Do you want to stop and explore?",
                    locationTags: ['Natchitoches'],
                    cost: { money: 20 },
                    yesOutcome: {
                        message: "You spend a few hours exploring the charming historic district and enjoy a delicious meat pie. It's a nice cultural break, but costs time and money.",
                        statsChange: { health: +10, stamina: +5, money: -20, day: 0.2, joy: +8 }
                    },
                    noOutcome: {
                        message: "You just pass through. You cycle past, admiring from a distance. You save time and money, but miss out on a unique experience.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_043': {
                    id: 'scenario_043',
                    description: "You notice a small, abandoned-looking shack by the road. There's an old, rusty bike leaning against it. Do you want to stop to investigate the shack?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cautiously approach. Inside, you find nothing of value, but disturb some wasps. You get a minor sting.",
                        statsChange: { health: -5, joy: -3 }
                    },
                    noOutcome: {
                        message: "You decide against investigating. Better safe than sorry.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_044': {
                    id: 'scenario_044',
                    description: "Your chain slips unexpectedly, causing you to almost lose balance. Do you want to try to fix it on the spot?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You manage to adjust the derailleur, but it takes some effort and a bit of frustration.",
                        statsChange: { stamina: -5, joy: -2 }
                    },
                    noOutcome: {
                        message: "You carefully ride to the next town for a proper repair. The chain continues to skip occasionally, making the ride less efficient and more risky.",
                        statsChange: { bikeCondition: -7, joy: -3 }
                    }
                },
                'scenario_045': {
                    id: 'scenario_045',
                    description: "You come across a group of cyclists heading in the opposite direction. They wave and seem friendly. Do you want to stop to chat and exchange tips?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You have a brief, pleasant chat. You gain some useful information about the road ahead, and a morale boost.",
                        statsChange: { health: +3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You just wave back and continue. You maintain your pace, but miss a chance for connection.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_046': {
                    id: 'scenario_046',
                    description: "You find a discarded old map that seems to show a shortcut. Do you want to try to follow it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The shortcut is a bit rough, but it saves you some miles and time!",
                        statsChange: { bikeCondition: -5, stamina: -5, day: -0.05, joy: +3 }
                    },
                    noOutcome: {
                        message: "You stick to the main road, preferring the known path.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_047': {
                    id: 'scenario_047',
                    description: "You pass a field of beautiful wildflowers. It looks like a perfect photo opportunity. Do you want to stop to take some pictures?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You capture some stunning photos. The short break is enjoyable, and you feel a little happier.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding to maintain your pace. You admire them as you pass by. You stay on schedule, but miss the chance for a memorable photo.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_048': {
                    id: 'scenario_048',
                    description: "You notice a small tear in your bike seat. It's not critical yet, but could worsen. Do you want to patch it with duct tape from your kit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a makeshift duct tape patch. It's not pretty, but it should prevent further tearing for a while.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it for now. The tear slowly gets bigger, making the seat less comfortable and more prone to damage.",
                        statsChange: { bikeCondition: -3, joy: -2 }
                    }
                },
                'scenario_049': {
                    id: 'scenario_049',
                    description: "You're feeling a bit lonely on the long road. You see another cyclist ahead, riding at a similar pace. Do you want to try to catch up and ride with them for a while?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You strike up a conversation and ride together for a few miles. It's a pleasant distraction and boosts your morale.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You maintain your own rhythm. You stay focused, but the solitude continues.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_050': {
                    id: 'scenario_050',
                    description: "A sudden, strong crosswind hits you, making it difficult to stay upright. Do you want to dismount and walk your bike until it calms?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You dismount and walk. It's safer but slower. You lose some time.",
                        statsChange: { day: 0.05, joy: +1 }
                    },
                    noOutcome: {
                        message: "You lean into the wind and fight it. You battle the wind, using a lot of energy to stay on course. It's tough but you make progress.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_051': {
                    id: 'scenario_051',
                    description: "You're getting close to Natchitoches, Louisiana, known for its historic district and meat pies. Do you want to stop and explore?",
                    locationTags: ['Natchitoches'],
                    cost: { money: 20 },
                    yesOutcome: {
                        message: "You spend a few hours exploring the charming historic district and enjoy a delicious meat pie. It's a nice cultural break, but costs time and money.",
                        statsChange: { health: +10, stamina: +5, money: -20, day: 0.2, joy: +8 }
                    },
                    noOutcome: {
                        message: "You just pass through. You cycle past, admiring from a distance. You save time and money, but miss out on a unique experience.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_052': {
                    id: 'scenario_052',
                    description: "You notice a small, abandoned-looking shack by the road. There's an old, rusty bike leaning against it. Do you want to stop to investigate the shack?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cautiously approach. Inside, you find nothing of value, but disturb some wasps. You and get a minor sting.",
                        statsChange: { health: -5, joy: -3 }
                    },
                    noOutcome: {
                        message: "You decide against investigating. Better safe than sorry.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_053': {
                    id: 'scenario_053',
                    description: "Your chain slips unexpectedly, causing you to almost lose balance. Do you want to try to fix it on the spot?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You manage to adjust the derailleur, but it takes some effort and a bit of frustration.",
                        statsChange: { stamina: -5, joy: -2 }
                    },
                    noOutcome: {
                        message: "You carefully ride to the next town for a proper repair. The chain continues to skip occasionally, making the ride less efficient and more risky.",
                        statsChange: { bikeCondition: -7, joy: -3 }
                    }
                },
                'scenario_054': {
                    id: 'scenario_054',
                    description: "You come across a group of cyclists heading in the opposite direction. They wave and seem friendly. Do you want to stop to chat and exchange tips?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You have a brief, pleasant chat. You gain some useful information about the road ahead, and a morale boost.",
                        statsChange: { health: +3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You just wave back and continue. You maintain your pace, but miss a chance for connection.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_055': {
                    id: 'scenario_055',
                    description: "You find a discarded old map that seems to show a shortcut. Do you want to try to follow it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The shortcut is a bit rough, but it saves you some miles and time!",
                        statsChange: { bikeCondition: -5, stamina: -5, day: -0.05, joy: +3 }
                    },
                    noOutcome: {
                        message: "You stick to the main road, preferring the known path.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_056': {
                    id: 'scenario_056',
                    description: "You pass a field of beautiful wildflowers. It looks like a perfect photo opportunity. Do you want to stop to take some pictures?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You capture some stunning photos. The short break is enjoyable, and you feel a little happier.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding to maintain your pace. You admire them as you pass by. You stay on schedule, but miss the chance for a memorable photo.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_057': {
                    id: 'scenario_057',
                    description: "You notice a small tear in your bike seat. It's not critical yet, but could worsen. Do you want to patch it with duct tape from your kit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a makeshift duct tape patch. It's not pretty, but it should prevent further tearing for a while.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it for now. The tear slowly gets bigger, making the seat less comfortable and more prone to damage.",
                        statsChange: { bikeCondition: -3, joy: -2 }
                    }
                },
                'scenario_058': {
                    id: 'scenario_058',
                    description: "You're feeling a bit lonely on the long road. You see another cyclist ahead, riding at a similar pace. Do you want to try to catch up and ride with them for a while?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You strike up a conversation and ride together for a few miles. It's a pleasant distraction and boosts your morale.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You maintain your own rhythm. You stay focused, but the solitude continues.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_059': {
                    id: 'scenario_059',
                    description: "A sudden, strong crosswind hits you, making it difficult to stay upright. Do you want to dismount and walk your bike until it calms?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You dismount and walk. It's safer but slower. You lose some time.",
                        statsChange: { day: 0.05, joy: +1 }
                    },
                    noOutcome: {
                        message: "You lean into the wind and fight it. You battle the wind, using a lot of energy to stay on course. It's tough but you make progress.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_060': {
                    id: 'scenario_060',
                    description: "You're getting close to Natchitoches, Louisiana, known for its historic district and meat pies. Do you want to stop and explore?",
                    locationTags: ['Natchitoches'],
                    cost: { money: 20 },
                    yesOutcome: {
                        message: "You spend a few hours exploring the charming historic district and enjoy a delicious meat pie. It's a nice cultural break, but costs time and money.",
                        statsChange: { health: +10, stamina: +5, money: -20, day: 0.2, joy: +8 }
                    },
                    noOutcome: {
                        message: "You just pass through. You cycle past, admiring from a distance. You save time and money, but miss out on a unique experience.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_061': {
                    id: 'scenario_061',
                    description: "You notice a small, abandoned-looking shack by the road. There's an old, rusty bike leaning against it. Do you want to stop to investigate the shack?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cautiously approach. Inside, you find nothing of value, but disturb some wasps. You get a minor sting.",
                        statsChange: { health: -5, joy: -3 }
                    },
                    noOutcome: {
                        message: "You decide against investigating. Better safe than sorry.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_062': {
                    id: 'scenario_062',
                    description: "Your chain slips unexpectedly, causing you to almost lose balance. Do you want to try to fix it on the spot?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You manage to adjust the derailleur, but it takes some effort and a bit of frustration.",
                        statsChange: { stamina: -5, joy: -2 }
                    },
                    noOutcome: {
                        message: "You carefully ride to the next town for a proper repair. The chain continues to skip occasionally, making the ride less efficient and more risky.",
                        statsChange: { bikeCondition: -7, joy: -3 }
                    }
                },
                'scenario_063': {
                    id: 'scenario_063',
                    description: "You come across a group of cyclists heading in the opposite direction. They wave and seem friendly. Do you want to stop to chat and exchange tips?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You have a brief, pleasant chat. You gain some useful information about the road ahead, and a morale boost.",
                        statsChange: { health: +3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You just wave back and continue. You maintain your pace, but miss a chance for connection.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_064': {
                    id: 'scenario_064',
                    description: "You find a discarded old map that seems to show a shortcut. Do you want to try to follow it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The shortcut is a bit rough, but it saves you some miles and time!",
                        statsChange: { bikeCondition: -5, stamina: -5, day: -0.05, joy: +3 }
                    },
                    noOutcome: {
                        message: "You stick to the main road, preferring the known path.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_065': {
                    id: 'scenario_065',
                    description: "You pass a field of beautiful wildflowers. It looks like a perfect photo opportunity. Do you want to stop to take some pictures?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You capture some stunning photos. The short break is enjoyable, and you feel a little happier.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding to maintain your pace. You admire them as you pass by. You stay on schedule, but miss the chance for a memorable photo.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_066': {
                    id: 'scenario_066',
                    description: "You notice a small tear in your bike seat. It's not critical yet, but could worsen. Do you want to patch it with duct tape from your kit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a makeshift duct tape patch. It's not pretty, but it should prevent further tearing for a while.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it for now. The tear slowly gets bigger, making the seat less comfortable and more prone to damage.",
                        statsChange: { bikeCondition: -3, joy: -2 }
                    }
                },
                'scenario_067': {
                    id: 'scenario_067',
                    description: "You're feeling a bit lonely on the long road. You see another cyclist ahead, riding at a similar pace. Do you want to try to catch up and ride with them for a while?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You strike up a conversation and ride together for a few miles. It's a pleasant distraction and boosts your morale.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You maintain your own rhythm. You stay focused, but the solitude continues.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_068': {
                    id: 'scenario_068',
                    description: "A sudden, strong crosswind hits you, making it difficult to stay upright. Do you want to dismount and walk your bike until it calms?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You dismount and walk. It's safer but slower. You lose some time.",
                        statsChange: { day: 0.05, joy: +1 }
                    },
                    noOutcome: {
                        message: "You lean into the wind and fight it. You battle the wind, using a lot of energy to stay on course. It's tough but you make progress.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_069': {
                    id: 'scenario_069',
                    description: "You're getting close to Natchitoches, Louisiana, known for its historic district and meat pies. Do you want to stop and explore?",
                    locationTags: ['Natchitoches'],
                    cost: { money: 20 },
                    yesOutcome: {
                        message: "You spend a few hours exploring the charming historic district and enjoy a delicious meat pie. It's a nice cultural break, but costs time and money.",
                        statsChange: { health: +10, stamina: +5, money: -20, day: 0.2, joy: +8 }
                    },
                    noOutcome: {
                        message: "You just pass through. You cycle past, admiring from a distance. You save time and money, but miss out on a unique experience.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_070': {
                    id: 'scenario_070',
                    description: "You notice a small, abandoned-looking shack by the road. There's an old, rusty bike leaning against it. Do you want to stop to investigate the shack?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cautiously approach. Inside, you find nothing of value, but disturb some wasps. You get a minor sting.",
                        statsChange: { health: -5, joy: -3 }
                    },
                    noOutcome: {
                        message: "You decide against investigating. Better safe than sorry.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_071': {
                    id: 'scenario_071',
                    description: "Your chain slips unexpectedly, causing you to almost lose balance. Do you want to try to fix it on the spot?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You manage to adjust the derailleur, but it takes some effort and a bit of frustration.",
                        statsChange: { stamina: -5, joy: -2 }
                    },
                    noOutcome: {
                        message: "You carefully ride to the next town for a proper repair. The chain continues to skip occasionally, making the ride less efficient and more risky.",
                        statsChange: { bikeCondition: -7, joy: -3 }
                    }
                },
                'scenario_072': {
                    id: 'scenario_072',
                    description: "You come across a group of cyclists heading in the opposite direction. They wave and seem friendly. Do you want to stop to chat and exchange tips?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You have a brief, pleasant chat. You gain some useful information about the road ahead, and a morale boost.",
                        statsChange: { health: +3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You just wave back and continue. You maintain your pace, but miss a chance for connection.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_073': {
                    id: 'scenario_073',
                    description: "You find a discarded old map that seems to show a shortcut. Do you want to try to follow it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The shortcut is a bit rough, but it saves you some miles and time!",
                        statsChange: { bikeCondition: -5, stamina: -5, day: -0.05, joy: +3 }
                    },
                    noOutcome: {
                        message: "You stick to the main road, preferring the known path.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_074': {
                    id: 'scenario_074',
                    description: "You pass a field of beautiful wildflowers. It looks like a perfect photo opportunity. Do you want to stop to take some pictures?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You capture some stunning photos. The short break is enjoyable, and you feel a little happier.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding to maintain your pace. You admire them as you pass by. You stay on schedule, but miss the chance for a memorable photo.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_075': {
                    id: 'scenario_075',
                    description: "You notice a small tear in your bike seat. It's not critical yet, but could worsen. Do you want to patch it with duct tape from your kit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a makeshift duct tape patch. It's not pretty, but it should prevent further tearing for a while.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it for now. The tear slowly gets bigger, making the seat less comfortable and more prone to damage.",
                        statsChange: { bikeCondition: -3, joy: -2 }
                    }
                },
                'scenario_076': {
                    id: 'scenario_076',
                    description: "You're feeling a bit lonely on the long road. You see another cyclist ahead, riding at a similar pace. Do you want to try to catch up and ride with them for a while?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You strike up a conversation and ride together for a few miles. It's a pleasant distraction and boosts your morale.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You maintain your own rhythm. You stay focused, but the solitude continues.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_077': {
                    id: 'scenario_077',
                    description: "A sudden, strong crosswind hits you, making it difficult to stay upright. Do you want to dismount and walk your bike until it calms?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You dismount and walk. It's safer but slower. You lose some time.",
                        statsChange: { day: 0.05, joy: +1 }
                    },
                    noOutcome: {
                        message: "You lean into the wind and fight it. You battle the wind, using a lot of energy to stay on course. It's tough but you make progress.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_078': {
                    id: 'scenario_078',
                    description: "You're getting close to Natchitoches, Louisiana, known for its historic district and meat pies. Do you want to stop and explore?",
                    locationTags: ['Natchitoches'],
                    cost: { money: 20 },
                    yesOutcome: {
                        message: "You spend a few hours exploring the charming historic district and enjoy a delicious meat pie. It's a nice cultural break, but costs time and money.",
                        statsChange: { health: +10, stamina: +5, money: -20, day: 0.2, joy: +8 }
                    },
                    noOutcome: {
                        message: "You just pass through. You cycle past, admiring from a distance. You save time and money, but miss out on a unique experience.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_079': {
                    id: 'scenario_079',
                    description: "You notice a small, abandoned-looking shack by the road. There's an old, rusty bike leaning against it. Do you want to stop to investigate the shack?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cautiously approach. Inside, you find nothing of value, but disturb some wasps. You get a minor sting.",
                        statsChange: { health: -5, joy: -3 }
                    },
                    noOutcome: {
                        message: "You decide against investigating. Better safe than sorry.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_080': {
                    id: 'scenario_080',
                    description: "Your chain slips unexpectedly, causing you to almost lose balance. Do you want to try to fix it on the spot?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You manage to adjust the derailleur, but it takes some effort and a bit of frustration.",
                        statsChange: { stamina: -5, joy: -2 }
                    },
                    noOutcome: {
                        message: "You carefully ride to the next town for a proper repair. The chain continues to skip occasionally, making the ride less efficient and more risky.",
                        statsChange: { bikeCondition: -7, joy: -3 }
                    }
                },
                'scenario_081': {
                    id: 'scenario_081',
                    description: "You come across a group of cyclists heading in the opposite direction. They wave and seem friendly. Do you want to stop to chat and exchange tips?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You have a brief, pleasant chat. You gain some useful information about the road ahead, and a morale boost.",
                        statsChange: { health: +3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You just wave back and continue. You maintain your pace, but miss a chance for connection.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_082': {
                    id: 'scenario_082',
                    description: "You find a discarded old map that seems to show a shortcut. Do you want to try to follow it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The shortcut is a bit rough, but it saves you some miles and time!",
                        statsChange: { bikeCondition: -5, stamina: -5, day: -0.05, joy: +3 }
                    },
                    noOutcome: {
                        message: "You stick to the main road, preferring the known path.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_083': {
                    id: 'scenario_083',
                    description: "You pass a field of beautiful wildflowers. It looks like a perfect photo opportunity. Do you want to stop to take some pictures?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You capture some stunning photos. The short break is enjoyable, and you feel a little happier.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding to maintain your pace. You admire them as you pass by. You stay on schedule, but miss the chance for a memorable photo.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_084': {
                    id: 'scenario_084',
                    description: "You notice a small tear in your bike seat. It's not critical yet, but could worsen. Do you want to patch it with duct tape from your kit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a makeshift duct tape patch. It's not pretty, but it should prevent further tearing for a while.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it for now. The tear slowly gets bigger, making the seat less comfortable and more prone to damage.",
                        statsChange: { bikeCondition: -3, joy: -2 }
                    }
                },
                'scenario_085': {
                    id: 'scenario_085',
                    description: "You're feeling a bit lonely on the long road. You see another cyclist ahead, riding at a similar pace. Do you want to try to catch up and ride with them for a while?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You strike up a conversation and ride together for a few miles. It's a pleasant distraction and boosts your morale.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You maintain your own rhythm. You stay focused, but the solitude continues.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_086': {
                    id: 'scenario_086',
                    description: "A sudden, strong crosswind hits you, making it difficult to stay upright. Do you want to dismount and walk your bike until it calms?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You dismount and walk. It's safer but slower. You lose some time.",
                        statsChange: { day: 0.05, joy: +1 }
                    },
                    noOutcome: {
                        message: "You lean into the wind and fight it. You battle the wind, using a lot of energy to stay on course. It's tough but you make progress.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_087': {
                    id: 'scenario_087',
                    description: "You're getting close to Natchitoches, Louisiana, known for its historic district and meat pies. Do you want to stop and explore?",
                    locationTags: ['Natchitoches'],
                    cost: { money: 20 },
                    yesOutcome: {
                        message: "You spend a few hours exploring the charming historic district and enjoy a delicious meat pie. It's a nice cultural break, but costs time and money.",
                        statsChange: { health: +10, stamina: +5, money: -20, day: 0.2, joy: +8 }
                    },
                    noOutcome: {
                        message: "You just pass through. You cycle past, admiring from a distance. You save time and money, but miss out on a unique experience.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_088': {
                    id: 'scenario_088',
                    description: "You notice a small, abandoned-looking shack by the road. There's an old, rusty bike leaning against it. Do you want to stop to investigate the shack?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cautiously approach. Inside, you find nothing of value, but disturb some wasps. You get a minor sting.",
                        statsChange: { health: -5, joy: -3 }
                    },
                    noOutcome: {
                        message: "You decide against investigating. Better safe than sorry.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_089': {
                    id: 'scenario_089',
                    description: "Your chain slips unexpectedly, causing you to almost lose balance. Do you want to try to fix it on the spot?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You manage to adjust the derailleur, but it takes some effort and a bit of frustration.",
                        statsChange: { stamina: -5, joy: -2 }
                    },
                    noOutcome: {
                        message: "You carefully ride to the next town for a proper repair. The chain continues to skip occasionally, making the ride less efficient and more risky.",
                        statsChange: { bikeCondition: -7, joy: -3 }
                    }
                },
                'scenario_090': {
                    id: 'scenario_090',
                    description: "You come across a group of cyclists heading in the opposite direction. They wave and seem friendly. Do you want to stop to chat and exchange tips?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You have a brief, pleasant chat. You gain some useful information about the road ahead, and a morale boost.",
                        statsChange: { health: +3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You just wave back and continue. You maintain your pace, but miss a chance for connection.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_091': {
                    id: 'scenario_091',
                    description: "You find a discarded old map that seems to show a shortcut. Do you want to try to follow it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The shortcut is a bit rough, but it saves you some miles and time!",
                        statsChange: { bikeCondition: -5, stamina: -5, day: -0.05, joy: +3 }
                    },
                    noOutcome: {
                        message: "You stick to the main road, preferring the known path.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_092': {
                    id: 'scenario_092',
                    description: "You pass a field of beautiful wildflowers. It looks like a perfect photo opportunity. Do you want to stop to take some pictures?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You capture some stunning photos. The short break is enjoyable, and you feel a little happier.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding to maintain your pace. You admire them as you pass by. You stay on schedule, but miss the chance for a memorable photo.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_093': {
                    id: 'scenario_093',
                    description: "You notice a small tear in your bike seat. It's not critical yet, but could worsen. Do you want to patch it with duct tape from your kit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a makeshift duct tape patch. It's not pretty, but it should prevent further tearing for a while.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it for now. The tear slowly gets bigger, making the seat less comfortable and more prone to damage.",
                        statsChange: { bikeCondition: -3, joy: -2 }
                    }
                },
                'scenario_094': {
                    id: 'scenario_094',
                    description: "You're feeling a bit lonely on the long road. You see another cyclist ahead, riding at a similar pace. Do you want to try to catch up and ride with them for a while?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You strike up a conversation and ride together for a few miles. It's a pleasant distraction and boosts your morale.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You maintain your own rhythm. You stay focused, but the solitude continues.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_095': {
                    id: 'scenario_095',
                    description: "A sudden, strong crosswind hits you, making it difficult to stay upright. Do you want to dismount and walk your bike until it calms?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You dismount and walk. It's safer but slower. You lose some time.",
                        statsChange: { day: 0.05, joy: +1 }
                    },
                    noOutcome: {
                        message: "You lean into the wind and fight it. You battle the wind, using a lot of energy to stay on course. It's tough but you make progress.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_096': {
                    id: 'scenario_096',
                    description: "You're getting very close to New Orleans! The air is thick with anticipation. You see signs for the French Quarter. Do you want to take a slight detour to ride through the iconic French Quarter first?",
                    locationTags: ['New Orleans'],
                    yesOutcome: {
                        message: "You can't resist the allure of the French Quarter! You weave through the lively streets, taking in the sights and sounds. It's crowded, but an unforgettable experience.",
                        statsChange: { stamina: -5, joy: +10 }
                    },
                    noOutcome: {
                        message: "You head directly to your pre-booked accommodation. You're tired but focused. Smart move for recovery.",
                        statsChange: { joy: +2 }
                    }
                },
                'scenario_097': {
                    id: 'scenario_097',
                    description: "You notice a small, abandoned-looking shack by the road. There's an old, rusty bike leaning against it. Do you want to stop to investigate the shack?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cautiously approach. Inside, you find nothing of value, but disturb some wasps. You get a minor sting.",
                        statsChange: { health: -5, joy: -3 }
                    },
                    noOutcome: {
                        message: "You decide against investigating. Better safe than sorry.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_098': {
                    id: 'scenario_098',
                    description: "Your chain slips unexpectedly, causing you to almost lose balance. Do you want to try to fix it on the spot?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You manage to adjust the derailleur, but it takes some effort and a bit of frustration.",
                        statsChange: { stamina: -5, joy: -2 }
                    },
                    noOutcome: {
                        message: "You carefully ride to the next town for a proper repair. The chain continues to skip occasionally, making the ride less efficient and more risky.",
                        statsChange: { bikeCondition: -7, joy: -3 }
                    }
                },
                'scenario_099': {
                    id: 'scenario_099',
                    description: "You come across a group of cyclists heading in the opposite direction. They wave and seem friendly. Do you want to stop to chat and exchange tips?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You have a brief, pleasant chat. You gain some useful information about the road ahead, and a morale boost.",
                        statsChange: { health: +3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You just wave back and continue. You maintain your pace, but miss a chance for connection.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_100': {
                    id: 'scenario_100',
                    description: "You find a discarded old map that seems to show a shortcut. Do you want to try to follow it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The shortcut is a bit rough, but it saves you some miles and time!",
                        statsChange: { bikeCondition: -5, stamina: -5, day: -0.05, joy: +3 }
                    },
                    noOutcome: {
                        message: "You stick to the main road, preferring the known path.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_101': {
                    id: 'scenario_101',
                    description: "You pass a field of beautiful wildflowers. It looks like a perfect photo opportunity. Do you want to stop to take some pictures?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You capture some stunning photos. The short break is enjoyable, and you feel a little happier.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding to maintain your pace. You admire them as you pass by. You stay on schedule, but miss the chance for a memorable photo.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_102': {
                    id: 'scenario_102',
                    description: "You notice a small tear in your bike seat. It's not critical yet, but could worsen. Do you want to patch it with duct tape from your kit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a makeshift duct tape patch. It's not pretty, but it should prevent further tearing for a while.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it for now. The tear slowly gets bigger, making the seat less comfortable and more prone to damage.",
                        statsChange: { bikeCondition: -3, joy: -2 }
                    }
                },
                'scenario_103': {
                    id: 'scenario_103',
                    description: "You're feeling a bit lonely on the long road. You see another cyclist ahead, riding at a similar pace. Do you want to try to catch up and ride with them for a while?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You strike up a conversation and ride together for a few miles. It's a pleasant distraction and boosts your morale.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You maintain your own rhythm. You stay focused, but the solitude continues.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_104': {
                    id: 'scenario_104',
                    description: "A sudden, strong crosswind hits you, making it difficult to stay upright. Do you want to dismount and walk your bike until it calms?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You dismount and walk. It's safer but slower. You lose some time.",
                        statsChange: { day: 0.05, joy: +1 }
                    },
                    noOutcome: {
                        message: "You lean into the wind and fight it. You battle the wind, using a lot of energy to stay on course. It's tough but you make progress.",
                        statsChange: { stamina: -10, health: -5, joy: -3 }
                    }
                },
                'scenario_105': {
                    id: 'scenario_105',
                    description: "You're getting very close to New Orleans! The air is thick with anticipation. You see signs for the French Quarter. Do you want to take a slight detour to ride through the iconic French Quarter first?",
                    locationTags: ['New Orleans'],
                    yesOutcome: {
                        message: "You can't resist the allure of the French Quarter! You weave through the lively streets, taking in the sights and sounds. It's crowded, but an unforgettable experience.",
                        statsChange: { stamina: -5, joy: +10 }
                    },
                    noOutcome: {
                        message: "You head directly to your pre-booked accommodation. You're tired but focused. Smart move for recovery.",
                        statsChange: { joy: +2 }
                    }
                },
                'scenario_106': {
                    id: 'scenario_106',
                    description: "A small, cute, but hungry-looking dog appears on the side of the road, wagging its tail. Do you want to offer it an energy bar?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The dog happily eats the bar and wags its tail even more. You feel a small boost in spirits.",
                        statsChange: { stamina: +2, inventory: ['-energy bar'], joy: +5 }
                    },
                    noOutcome: {
                        message: "You ignore it and keep riding. You feel a little bad, but you need your supplies.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_107': {
                    id: 'scenario_107',
                    description: "You notice an interesting historical marker about a Civil War battle. Do you want to stop to read it and learn something?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You learn some fascinating history. It's a nice mental break.",
                        statsChange: { health: +2, joy: +3 }
                    },
                    noOutcome: {
                        message: "You continue your journey without a break. You prioritize your mileage. You save time, but miss out on local history.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_108': {
                    id: 'scenario_108',
                    description: "A local offers you a fresh, homemade biscuit. Do you want to accept the hospitality?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The biscuit is delicious and provides a nice energy boost. The kindness of strangers warms your heart.",
                        statsChange: { health: +5, stamina: +5, joy: +8 }
                    },
                    noOutcome: {
                        message: "You politely decline. You are wary of taking food from strangers. You continue your journey.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_109': {
                    id: 'scenario_109',
                    description: "You see a challenging, but scenic, gravel path diverging from the main road. Do you want to take the adventurous path?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The gravel path is beautiful, but demanding. Your bike takes some wear and tear, and you use extra energy.",
                        statsChange: { bikeCondition: -10, stamina: -15, joy: +5 }
                    },
                    noOutcome: {
                        message: "You stick to the safer paved road. It's less exciting, but you save your bike and energy.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_110': {
                    id: 'scenario_110',
                    description: "You feel a strange vibration coming from your handlebars. It might be a loose bolt or something more serious. Do you want to stop to inspect it thoroughly?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You find a slightly loose bolt and tighten it. Good catch! It prevents further issues.",
                        statsChange: { bikeCondition: +2, joy: +2 }
                    },
                    noOutcome: {
                        message: "You try to ignore it. The vibration persists, and you feel a growing concern about your bike's integrity.",
                        statsChange: { bikeCondition: -5, health: -3, joy: -3 }
                    }
                },
                'scenario_111': {
                    id: 'scenario_111',
                    description: "You are passing by a quiet fishing pier. Do you want to stop to stretch and enjoy the peaceful atmosphere for a few minutes?",
                    locationTags: ['general', 'Lafayette', 'Baton Rouge'],
                    yesOutcome: {
                        message: "The tranquility of the pier is refreshing. You feel more relaxed and ready to continue.",
                        statsChange: { health: +5, joy: +6 }
                    },
                    noOutcome: {
                        message: "You keep pushing forward. You keep riding, focused on your destination. The quiet view passes quickly.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_112': {
                    id: 'scenario_112',
                    description: "You realize you're running low on water again. You spot a small, roadside shop. Do you want to stop to buy a new bottle?",
                    locationTags: ['general'],
                    cost: { money: 5 },
                    yesOutcome: {
                        message: "You buy a large bottle of cold water. It's a small expense for much-needed hydration.",
                        statsChange: { money: -5, stamina: +10, joy: +3 }
                    },
                    noOutcome: {
                        message: "You rely on your remaining sips until the next major town. You conserve your water. Your throat feels dry, and your stamina dips.",
                        statsChange: { stamina: -8, health: -5, joy: -3 }
                    }
                },
                'scenario_113': {
                    id: 'scenario_113',
                    description: "You see a sign for a local animal shelter looking for volunteers for an hour. Do you want to stop to help out?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You spend an hour helping out. It feels good to give back, and you get some light exercise.",
                        statsChange: { health: +10, day: 0.05, joy: +10 }
                    },
                    noOutcome: {
                        message: "You continue your journey. You feel a pang of guilt, but you must keep to your schedule.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_114': {
                    id: 'scenario_114',
                    description: "A strong smell of BBQ wafts from a roadside stand. You're hungry. Do you want to stop for a hearty, local meal?",
                    locationTags: ['general'],
                    cost: { money: 30 },
                    yesOutcome: {
                        message: "The BBQ is incredible! You feel fully energized and satisfied.",
                        statsChange: { health: +15, stamina: +15, money: -30, joy: +10 }
                    },
                    noOutcome: {
                        message: "You stick to your energy bars. You pass by, resisting the delicious smell. You save money but continue to feel hungry.",
                        statsChange: { stamina: -5, joy: -2 }
                    }
                },
                'scenario_115': {
                    id: 'scenario_115',
                    description: "The sun is setting, and you realize your spare inner tube has a small leak. Do you want to attempt to patch it now?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You patch the tube. It takes some effort, but you have a reliable spare now.",
                        statsChange: { stamina: -3, joy: +2 }
                    },
                    noOutcome: {
                        message: "You risk it and rely on your other supplies. Your spare tube might not be reliable when you need it.",
                        statsChange: { bikeCondition: -2, joy: -1 }
                    }
                },
                'scenario_116': {
                    id: 'scenario_116',
                    description: "You see a sign for a local history museum that promises a glimpse into the region's past. Do you want to take an hour to visit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The museum is surprisingly interesting! You learn a lot and enjoy the mental break.",
                        statsChange: { health: +3, day: 0.05, joy: +5 }
                    },
                    noOutcome: {
                        message: "You push on. You decide to save time and keep riding. The museum fades into the background.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_117': {
                    id: 'scenario_117',
                    description: "Your knees are starting to ache. Do you want to adjust your bike seat height and take a short break?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "Adjusting your seat helps alleviate the ache. You feel more comfortable.",
                        statsChange: { health: +5, joy: +3 }
                    },
                    noOutcome: {
                        message: "You tough it out. The ache worsens, impacting your pedaling efficiency.",
                        statsChange: { health: -7, stamina: -3, joy: -3 }
                    }
                },
                'scenario_118': {
                    id: 'scenario_118',
                    description: "You come across a small, rustic bridge that looks old and potentially unsafe. Do you want to carefully cross it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You carefully cross the bridge. It creaks, but holds, saving you time.",
                        statsChange: { bikeCondition: -5, health: -2, joy: -1 }
                    },
                    noOutcome: {
                        message: "You find a longer, but more secure, alternative route. It adds a few miles but you feel much safer.",
                        statsChange: { stamina: -5, day: 0.1, joy: +2 }
                    }
                },
                'scenario_119': {
                    id: 'scenario_119',
                    description: "Your bike computer battery is dying, and you rely on it for tracking mileage. Do you want to stop at the next town to buy new batteries?",
                    locationTags: ['general'],
                    cost: { money: 5 },
                    yesOutcome: {
                        message: "You buy new batteries. Your computer is back up, giving you accurate data.",
                        statsChange: { money: -5, joy: +2 }
                    },
                    noOutcome: {
                        message: "You guess your mileage. You feel a bit off-track without precise data.",
                        statsChange: { health: -1, joy: -2 }
                    }
                },
                'scenario_120': {
                    id: 'scenario_120',
                    description: "A sudden downpour begins! Do you want to quickly seek shelter under a nearby overpass?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You take shelter. You stay mostly dry but lose some time waiting for the rain to subside.",
                        statsChange: { day: 0.05, joy: +1 }
                    },
                    noOutcome: {
                        message: "You try to keep riding through the rain. You get soaked. It's unpleasant and slightly reduces your bike's condition.",
                        statsChange: { health: -5, bikeCondition: -3, joy: -3 }
                    }
                },
                'scenario_121': {
                    id: 'scenario_121',
                    description: "You see a roadside stand selling homemade jams and jellies. Do you want to stop to buy a jar as a souvenir?",
                    locationTags: ['general'],
                    cost: { money: 10 },
                    yesOutcome: {
                        message: "You buy a delicious jar of local jam. It's a nice treat for later.",
                        statsChange: { money: -10, inventory: ['jar of jam'], joy: +5 }
                    },
                    noOutcome: {
                        message: "You continue your journey. You pass by, focusing on your ride. You save money and time.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_122': {
                    id: 'scenario_122',
                    description: "Your tired eyes spot a sign for a natural hot spring a short detour away. Do you want to indulge in a relaxing soak?",
                    locationTags: ['general'],
                    cost: { money: 20 },
                    yesOutcome: {
                        message: "The hot spring is heavenly! Your muscles relax, and you feel completely refreshed, but it costs time and money.",
                        statsChange: { health: +20, stamina: +20, money: -20, day: 0.2, joy: +15 }
                    },
                    noOutcome: {
                        message: "You resist the temptation. You know the detour would add too much time. Your muscles remain stiff.",
                        statsChange: { health: -2, joy: -3 }
                    }
                },
                'scenario_123': {
                    id: 'scenario_123',
                    description: "You notice a small tear in your rain jacket. It's not critical, but could become an issue in future rain. Do you want to attempt a makeshift repair with duct tape?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a patch of tape. It's not pretty, but it should hold up in the next shower.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it. You hope it doesn't rain again, but the risk remains.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_124': {
                    id: 'scenario_124',
                    description: "You encounter a group of local kids practicing bike tricks by the road. They invite you to watch. Do you want to stop for a bit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You watch them for a few minutes. Their energy is infectious, and it's a fun distraction.",
                        statsChange: { health: +5, joy: +8 }
                    },
                    noOutcome: {
                        message: "You politely decline. You smile and wave, but keep riding. You're on a mission.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_125': {
                    id: 'scenario_125',
                    description: "Your vision feels a little blurry due to sweat in your eyes. Do you want to stop to wipe your face and rest?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You stop and clean your eyes. Your vision is clear again, and you feel refreshed.",
                        statsChange: { stamina: +2, joy: +2 }
                    },
                    noOutcome: {
                        message: "You try to blink it out. The blurriness persists, making the ride slightly more hazardous.",
                        statsChange: { health: -3, joy: -2 }
                    }
                },
                'scenario_126': {
                    id: 'scenario_126',
                    description: "You pass a small, rural church with a well-maintained garden. Do you want to stop to admire the flowers and take a brief break?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The garden is beautiful and peaceful. It's a nice, calming moment.",
                        statsChange: { health: +3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep going. You appreciate it as you pass by, but continue your ride.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_127': {
                    id: 'scenario_127',
                    description: "Your back is starting to feel stiff. Do you want to stop and do some standing stretches?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The stretches feel great, loosening your back and improving your comfort.",
                        statsChange: { stamina: +5, joy: +3 }
                    },
                    noOutcome: {
                        message: "You try to push through it. The stiffness worsens, making you increasingly uncomfortable.",
                        statsChange: { health: -5, joy: -3 }
                    }
                },
                'scenario_128': {
                    id: 'scenario_128',
                    description: "You notice a buzzing sound from your front wheel. It sounds like a spoke vibrating. Do you want to stop to check it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You find a slightly loose spoke and tighten it. Problem solved!",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You assume it's minor. The buzzing continues, a minor but persistent annoyance.",
                        statsChange: { bikeCondition: -2, joy: -1 }
                    }
                },
                'scenario_129': {
                    id: 'scenario_129',
                    description: "You're getting very tired, and you see a rest stop with vending machines. Do you want to stop for a quick, sugary snack and drink?",
                    locationTags: ['general'],
                    cost: { money: 5 },
                    yesOutcome: {
                        message: "The sugary boost is immediate and effective, but you know it won't last.",
                        statsChange: { stamina: +10, money: -5, joy: +3 }
                    },
                    noOutcome: {
                        message: "You keep riding to find a proper meal. You decide to hold out for better food. Your energy remains low.",
                        statsChange: { stamina: -5, joy: -2 }
                    }
                },
                'scenario_130': {
                    id: 'scenario_130',
                    description: "You see a local monument dedicated to a historical event. Do you want to stop to read about it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You learn about an interesting piece of local history. It's a small but enriching pause.",
                        statsChange: { joy: +3 }
                    },
                    noOutcome: {
                        message: "You keep riding. You prioritize your journey. The monument passes quickly.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_131': {
                    id: 'scenario_131',
                    description: "You're entering the final stretch before New Orleans, and the traffic is picking up. Do you want to ride assertively in the lane?",
                    locationTags: ['Baton Rouge', 'New Orleans'],
                    yesOutcome: {
                        message: "You ride assertively, commanding your space. It's a bit stressful but effective.",
                        statsChange: { health: -3, joy: -2 }
                    },
                    noOutcome: {
                        message: "You try to stick to the shoulder. It's narrower and rougher, but you feel safer from traffic.",
                        statsChange: { bikeCondition: -5, stamina: -5, joy: +1 }
                    }
                },
                'scenario_132': {
                    id: 'scenario_132',
                    description: "You pass a vibrant mural painted on the side of a building in a small town. Do you want to stop to admire the artwork?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The mural is beautiful and inspiring. It's a small moment of joy.",
                        statsChange: { health: +1, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding. You are focused on your destination.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_133': {
                    id: 'scenario_133',
                    description: "You notice your phone mount is rattling. Do you want to stop to secure it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You secure the mount. The rattling stops, and your phone is safe.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore the noise. The rattling continues, and you worry about your phone falling.",
                        statsChange: { health: -1, joy: -2 }
                    }
                },
                'scenario_134': {
                    id: 'scenario_134',
                    description: "You're riding near a large body of water, and a strong tailwind picks up. Do you want to use it to your advantage and really push?",
                    locationTags: ['general', 'Lafayette', 'Baton Rouge', 'New Orleans'],
                    yesOutcome: {
                        message: "You let the tailwind carry you, making excellent time with less effort. It's exhilarating!",
                        statsChange: { stamina: +5, joy: +5 }
                    },
                    noOutcome: {
                        message: "You maintain your steady pace. The tailwind makes it easier, but you don't maximize the benefit.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_135': {
                    id: 'scenario_135',
                    description: "You see a group of children selling lemonade by the roadside. Do you want to stop to buy a cup and support them?",
                    locationTags: ['general'],
                    cost: { money: 2 },
                    yesOutcome: {
                        message: "The lemonade is refreshing, and you feel good supporting the kids.",
                        statsChange: { stamina: +2, money: -2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You politely decline. You save your money, but miss a cute interaction.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_136': {
                    id: 'scenario_136',
                    description: "You feel a blister forming on your foot. Do you want to stop to apply a bandage?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a bandage. The discomfort lessens, preventing the blister from worsening.",
                        statsChange: { health: +3, joy: +2 }
                    },
                    noOutcome: {
                        message: "You try to ignore it. The blister grows more painful, impacting your comfort.",
                        statsChange: { health: -5, joy: -3 }
                    }
                },
                'scenario_137': {
                    id: 'scenario_137',
                    description: "You encounter a section of road that's recently been paved, and it's incredibly smooth. Do you want to take advantage of the smooth surface to speed up?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You enjoy the smooth ride and pick up speed. It feels great!",
                        statsChange: { stamina: -3, joy: +3 }
                    },
                    noOutcome: {
                        message: "You maintain your usual pace. You still enjoy the smooth road, but don't push yourself.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_138': {
                    id: 'scenario_138',
                    description: "You're getting low on cash. You see an ATM in a small town. Do you want to stop to withdraw more money?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You withdraw cash. You feel more secure with funds, but it took a moment.",
                        statsChange: { money: +100, joy: +2 } // Assuming you withdraw a fixed amount
                    },
                    noOutcome: {
                        message: "You try to make do with what you have. You decide to conserve cash. You feel a bit anxious about running out.",
                        statsChange: { health: -1, joy: -3 }
                    }
                },
                'scenario_139': {
                    id: 'scenario_139',
                    description: "You see a small, local historical marker indicating a significant event. Do you want to stop to read about it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You learn about an interesting piece of local history. It's a small but enriching pause.",
                        statsChange: { joy: +3 }
                    },
                    noOutcome: {
                        message: "You keep riding. You prioritize your journey. The monument passes quickly.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_140': {
                    id: 'scenario_140',
                    description: "The next morning, you notice your front derailleur is rubbing slightly. Do you want to try to adjust it yourself?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You make a small adjustment. The rubbing stops, and your shifting feels smoother.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore the minor annoyance. The rubbing continues, slightly impacting your efficiency.",
                        statsChange: { bikeCondition: -2, joy: -1 }
                    }
                },
                'scenario_141': {
                    id: 'scenario_141',
                    description: "You're feeling quite tired, but you're only a few miles from a town with known lodging. Do you want to push through to the town?",
                    locationTags: ['general'],
                    cost: { money: 60 },
                    yesOutcome: {
                        message: "You push through. It's exhausting, but you reach comfortable lodging.",
                        statsChange: { stamina: -10, health: -5, money: -60, day: 1, joy: +5 }
                    },
                    noOutcome: {
                        message: "You stop and rest by the roadside. It's uncomfortable, but you gain some energy back before continuing.",
                        statsChange: { stamina: +20, health: +5, joy: -3 }
                    }
                },
                'scenario_142': {
                    id: 'scenario_142',
                    description: "You pass a field of sugar cane, stretching as far as the eye can see. Do you want to stop to take a photo?",
                    locationTags: ['Lafayette', 'Baton Rouge', 'New Orleans'],
                    yesOutcome: {
                        message: "You capture a beautiful photo. It's a nice memory of the journey.",
                        statsChange: { joy: +3 }
                    },
                    noOutcome: {
                        message: "You keep riding. You save time, but miss the photo opportunity.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_143': {
                    id: 'scenario_143',
                    description: "You notice a small, loose screw on your bike rack. Do you want to try to tighten it with your multi-tool?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You tighten the screw. Your rack feels more secure.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it. The screw slowly loosens further, making your rack less stable.",
                        statsChange: { bikeCondition: -1, joy: -1 }
                    }
                },
                'scenario_144': {
                    id: 'scenario_144',
                    description: "You're feeling a bit down. Do you want to put on some upbeat music?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The music lifts your spirits and makes the ride more enjoyable.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You try to focus on the goal ahead. It helps, but the ride still feels like a grind.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_145': {
                    id: 'scenario_145',
                    description: "You encounter a section of road with a lot of debris (leaves, small branches). Do you want to carefully pick your way through?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You carefully ride through. It's slow, but you avoid walking.",
                        statsChange: { stamina: -2, bikeCondition: -2, joy: -1 }
                    },
                    noOutcome: {
                        message: "You dismount and walk. It's safer for your tires, but takes more time.",
                        statsChange: { day: 0.03, joy: +1 }
                    }
                },
                'scenario_146': {
                    id: 'scenario_146',
                    description: "You see a small, local bakery with a tempting display of pastries. Do you want to stop for a treat?",
                    locationTags: ['general'],
                    cost: { money: 7 },
                    yesOutcome: {
                        message: "The pastry is delicious! A sweet reward that boosts your spirits.",
                        statsChange: { health: +5, money: -7, joy: +8 }
                    },
                    noOutcome: {
                        message: "You resist the temptation. You save money, but miss out on the treat.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_147': {
                    id: 'scenario_147',
                    description: "You feel a slight numbness in your feet. Do you want to stop to adjust your shoes and socks?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You adjust your footwear. The numbness subsides, improving comfort.",
                        statsChange: { health: +3, joy: +2 }
                    },
                    noOutcome: {
                        message: "You try to ignore it. The numbness persists and becomes uncomfortable.",
                        statsChange: { health: -4, joy: -3 }
                    }
                },
                'scenario_148': {
                    id: 'scenario_148',
                    description: "While in Baton Rouge, you pass by the LSU Rural Life Museum. Do you want to take a detour to visit and learn about historical Louisiana life?",
                    locationTags: ['Baton Rouge'],
                    cost: { money: 15 },
                    yesOutcome: {
                        message: "You visit the museum. It's an interesting glimpse into the past, but costs time and money.",
                        statsChange: { money: -15, day: 0.1, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep moving. You pass by. You save time and money.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_149': {
                    id: 'scenario_149',
                    description: "You're approaching Baton Rouge, Louisiana. The capital city has some busy areas. Do you want to stick to main roads for directness?",
                    locationTags: ['Baton Rouge'],
                    yesOutcome: {
                        message: "You navigate the main roads. It's faster but more stressful.",
                        statsChange: { stamina: -7, bikeCondition: -3, joy: -2 }
                    },
                    noOutcome: {
                        message: "You try to find quieter residential streets. You weave through quieter streets. It's more pleasant but takes longer.",
                        statsChange: { day: 0.1, joy: +3 }
                    }
                },
                'scenario_150': {
                    id: 'scenario_150',
                    description: "You see a group of cyclists pulled over on the side of the road, looking at a map. Do you want to stop to offer assistance?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You offer help. They appreciate it, and you have a brief, friendly interaction.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You assume they're fine. You keep riding. You save time, but miss a chance to help.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_151': {
                    id: 'scenario_151',
                    description: "You're riding on a long, straight road with little to see. Do you want to try to sing to yourself to pass the time?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "Singing helps pass the time and lifts your spirits.",
                        statsChange: { health: +1, joy: +4 }
                    },
                    noOutcome: {
                        message: "You focus on your breathing and rhythm. It's meditative, but the road still feels long.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_152': {
                    id: 'scenario_152',
                    description: "You notice a small, persistent leak from your water bottle. Do you want to try to patch it with tape?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply tape. The leak slows significantly, saving your water.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You just deal with the slow leak. The leak continues, slowly but surely draining your water.",
                        statsChange: { stamina: -2, joy: -2 }
                    }
                },
                'scenario_153': {
                    id: 'scenario_153',
                    description: "You come across a small, rural church holding a morning service. You hear gospel music. Do you want to stop for a moment to listen?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The music is uplifting. You feel a sense of peace and community.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You keep riding. You pass by. You maintain your pace.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_154': {
                    id: 'scenario_154',
                    description: "The next morning, you notice a small scratch on your bike frame. It's cosmetic, but annoying. Do you want to try to cover it with a sticker?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cover the scratch with a sticker. It's a small morale boost.",
                        statsChange: { joy: +2 }
                    },
                    noOutcome: {
                        message: "You just leave it. It's just a scratch, but it's a reminder of the rough roads.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_155': {
                    id: 'scenario_155',
                    description: "You're getting very tired, and the sun is setting. You see a sign for a campground a few miles ahead. Do you want to push to make it to the campground?",
                    locationTags: ['general'],
                    cost: { money: 25 },
                    yesOutcome: {
                        message: "You push to the campground. It's a tough ride, but you get a proper campsite and facilities.",
                        statsChange: { stamina: -10, health: -5, money: -25, day: 1, joy: +5 }
                    },
                    noOutcome: {
                        message: "You find a spot to wild camp immediately. It's free, but less comfortable and potentially risky.",
                        statsChange: { health: +10, stamina: +40, day: 1, joy: -5 }
                    }
                },
                'scenario_156': {
                    id: 'scenario_156',
                    description: "You notice a small, persistent squeak coming from your bottom bracket. Do you want to try to apply some lubricant?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply lubricant. The squeak lessens, and your pedaling feels smoother.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it hoping it goes away. The squeak continues and occasionally gets louder, indicating a potential issue.",
                        statsChange: { bikeCondition: -4, joy: -2 }
                    }
                },
                'scenario_157': {
                    id: 'scenario_157',
                    description: "You see a small, local art gallery advertising unique regional artwork. Do you want to stop to browse?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You browse the art. It's inspiring and a nice cultural immersion, but takes some time.",
                        statsChange: { day: 0.05, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding. You pass by. You save time, but miss out on local art.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_158': {
                    id: 'scenario_158',
                    description: "You're feeling a bit stiff from sitting on the bike. Do you want to stop for a quick stretch break?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You stretch your back and legs. You feel much more comfortable and limber.",
                        statsChange: { stamina: +5, joy: +3 }
                    },
                    noOutcome: {
                        message: "You push through to the next major town. The stiffness slowly turns into a dull ache.",
                        statsChange: { health: -3, joy: -2 }
                    }
                },
                'scenario_159': {
                    id: 'scenario_159',
                    description: "Your phone battery is getting low again. You remember you bought a portable charger. Do you want to use it now?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You plug in your phone. It charges up, giving you peace of mind for navigation and communication.",
                        statsChange: { joy: +2 }
                    },
                    noOutcome: {
                        message: "You try to conserve battery for emergencies. You feel a bit anxious about losing power, but you're saving it for later.",
                        statsChange: { health: -1, joy: -3 }
                    }
                },
                'scenario_160': {
                    id: 'scenario_160',
                    description: "You see a sign for a scenic overlook with a beautiful view of the bayou. Do you want to take the short detour to admire the scenery?",
                    locationTags: ['Lafayette', 'Baton Rouge', 'New Orleans'],
                    yesOutcome: {
                        message: "The view is breathtaking! You feel a sense of awe and renewed motivation.",
                        statsChange: { health: +5, joy: +10 }
                    },
                    noOutcome: {
                        message: "You keep riding. You pass by. You save time, but miss a beautiful sight.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_161': {
                    id: 'scenario_161',
                    description: "You feel a slight irritation in your eye. It might be dust or a small insect. Do you want to stop to flush it with water?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You stop and rinse your eye. The irritation subsides, and you feel more comfortable.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You try to blink it out while riding. The irritation persists, distracting you slightly.",
                        statsChange: { health: -2, joy: -2 }
                    }
                },
                'scenario_162': {
                    id: 'scenario_162',
                    description: "You encounter a section of road with a lot of loose gravel. Do you want to ride very slowly and carefully?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You ride slowly. It's tricky, but you manage to stay on your bike, though your tires take a minor beating.",
                        statsChange: { bikeCondition: -4, joy: -1 }
                    },
                    noOutcome: {
                        message: "You dismount and walk your bike through it. It's safer for your tires and less risky, but it takes more time and effort.",
                        statsChange: { stamina: -3, day: 0.05, joy: +1 }
                    }
                },
                'scenario_163': {
                    id: 'scenario_163',
                    description: "You see a small, local convenience store. You're not low on supplies, but you could use a cold drink. Do you want to stop for a refreshing beverage?",
                    locationTags: ['general'],
                    cost: { money: 3 },
                    yesOutcome: {
                        message: "The cold drink is incredibly satisfying! You feel refreshed and re-energized.",
                        statsChange: { stamina: +5, money: -3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep going. You're a bit thirsty, but you save your money.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_164': {
                    id: 'scenario_164',
                    description: "You're feeling a bit bored with the scenery. You have an audiobook downloaded. Do you want to start listening to it to pass the time?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The audiobook makes the miles fly by. You feel entertained, but perhaps a little less aware of the road.",
                        statsChange: { health: -1, joy: +4 }
                    },
                    noOutcome: {
                        message: "You stay alert to your surroundings. You notice more details, but the ride feels longer.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_165': {
                    id: 'scenario_165',
                    description: "You notice your water bottle mount is loose. Do you want to stop to tighten it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You quickly tighten the mount. Your bottle is secure again.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You risk it falling off on a bumpy section. A few miles later, on a rough patch, your water bottle clatters to the ground. Luckily, it doesn't break, but you have to stop and retrieve it.",
                        statsChange: { stamina: -2, joy: -2 }
                    }
                },
                'scenario_166': {
                    id: 'scenario_166',
                    description: "You're riding through a rural area and see a sign for a small, local museum dedicated to regional history. Do you want to stop for a quick visit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You learn some interesting facts about the area. It's a nice educational break, but costs a little time.",
                        statsChange: { day: 0.05, joy: +3 }
                    },
                    noOutcome: {
                        message: "You keep going. You pass by. You save time, but miss a chance to learn.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_167': {
                    id: 'scenario_167',
                    description: "You wake up to a beautiful, clear morning. The air is crisp. Do you want to take a moment to do some light stretching before riding?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The stretches feel good, loosening your muscles. You start the day feeling more limber.",
                        statsChange: { stamina: +3, joy: +2 }
                    },
                    noOutcome: {
                        message: "You just hop on your bike. Your muscles feel a bit stiff at first, but you warm up quickly.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_168': {
                    id: 'scenario_168',
                    description: "The next morning, you wake up to a thick fog. Visibility is poor. Do you want to wait for the fog to lift?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You wait. The fog slowly clears, and you start riding with better visibility, though you lost some time.",
                        statsChange: { day: 0.1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You proceed cautiously. It's stressful, but you make progress.",
                        statsChange: { stamina: -5, health: -3, joy: -3 }
                    }
                },
                'scenario_169': {
                    id: 'scenario_169',
                    description: "You notice a small, sharp piece of metal stuck in your tire. It hasn't caused a flat yet, but it's a risk. Do you want to stop to remove it carefully?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You carefully remove the metal. No damage done, and you avoided a potential flat.",
                        statsChange: { stamina: -2, joy: +2 }
                    },
                    noOutcome: {
                        message: "You hope it falls out. A few miles later, you hear a hiss...",
                        statsChange: { bikeCondition: -10, joy: -5 },
                        nextScenarioId: 'flat_tire' // Direct to flat tire scenario
                    }
                },
                'scenario_170': {
                    id: 'scenario_170',
                    description: "You're passing through a small town and see a community bulletin board advertising a local farmers' market. Do you want to stop to check it out for fresh supplies?",
                    locationTags: ['general'],
                    cost: { money: 12 },
                    yesOutcome: {
                        message: "You find some delicious local produce and artisan bread. It's a refreshing change from packaged food.",
                        statsChange: { health: +7, money: -12, joy: +8 }
                    },
                    noOutcome: {
                        message: "You keep riding. You stick to your schedule. You save time, but miss out on local flavors.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_171': {
                    id: 'scenario_171',
                    description: "You encounter a long, gradual uphill climb. Do you want to shift into a low gear and spin steadily?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You spin easily in a low gear. It's slower but conserves your energy.",
                        statsChange: { stamina: -5, joy: +1 }
                    },
                    noOutcome: {
                        message: "You try to power up in a higher gear. You push hard in a higher gear. You get up faster but feel a significant drain on your stamina.",
                        statsChange: { stamina: -15, bikeCondition: -3, joy: -3 }
                    }
                },
                'scenario_172': {
                    id: 'scenario_172',
                    description: "Your phone rings. It's a friend checking in. Do you want to answer and chat for a bit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You chat with your friend. It's a nice morale boost, but you lose a few minutes of riding time.",
                        statsChange: { health: +2, joy: +7 }
                    },
                    noOutcome: {
                        message: "You send them a quick text saying you'll call back later. You stay focused on your ride, but your friend might worry.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_173': {
                    id: 'scenario_173',
                    description: "You're riding along a quiet country road when you see a large snake slithering across the path ahead. Do you want to stop and wait for it to pass?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You stop and wait. The snake slowly moves off the road. Better safe than sorry.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You try to quickly ride around it. It's a bit risky, but you don't lose time.",
                        statsChange: { stamina: -2, health: -2, joy: -2 }
                    }
                },
                'scenario_174': {
                    id: 'scenario_174',
                    description: "You feel a persistent tingling in your hands. It might be nerve compression from holding the handlebars too tightly. Do you want to adjust your grip and take a short break?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You adjust your grip and rest your hands. The tingling subsides, preventing further discomfort.",
                        statsChange: { health: +3, joy: +2 }
                    },
                    noOutcome: {
                        message: "You try to ignore it. The tingling worsens, becoming a dull ache.",
                        statsChange: { health: -5, joy: -3 }
                    }
                },
                'scenario_175': {
                    id: 'scenario_175',
                    description: "You're approaching a small town with a bike repair shop that looks well-regarded. Your bike is okay, but a general check-up might be good. Do you want to stop for a preventative check?",
                    locationTags: ['general'],
                    cost: { money: 30 },
                    yesOutcome: {
                        message: "The mechanic gives your bike a quick tune-up. It feels even better, but costs some money.",
                        statsChange: { bikeCondition: +5, money: -30, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding. You decide to save the money and keep going. Your bike is fine for now.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_176': {
                    id: 'scenario_176',
                    description: "You pass a field where a local baseball game is underway. The sounds of the game are inviting. Do you want to stop for a few innings to relax?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You enjoy a relaxing break watching the game. It's a nice mental reset, but you lose some time.",
                        statsChange: { health: +5, day: 0.1, joy: +8 }
                    },
                    noOutcome: {
                        message: "You continue your journey. You keep pedaling. You stay on schedule, but miss out on the local pastime.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_177': {
                    id: 'scenario_177',
                    description: "You notice a small, almost hidden, dirt path that seems to run parallel to the main road, through some woods. It looks intriguing. Do you want to take the adventurous path?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The dirt path is beautiful and quiet, but challenging. It's a tougher ride for your bike.",
                        statsChange: { bikeCondition: -8, stamina: -5, joy: +5 }
                    },
                    noOutcome: {
                        message: "You stick to the paved road. It's less exciting but more predictable.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_178': {
                    id: 'scenario_178',
                    description: "You're feeling very fatigued, and your legs are burning. You know you need to eat. Do you want to stop at the next fast-food place for a quick, cheap meal?",
                    locationTags: ['general'],
                    cost: { money: 10 },
                    yesOutcome: {
                        message: "You grab a quick burger. It fills you up fast, but you don't feel great afterward.",
                        statsChange: { health: +5, stamina: +10, money: -10, joy: +3 }
                    },
                    noOutcome: {
                        message: "You try to find a healthier, sit-down restaurant. You find a local cafe with healthier options. The meal is more satisfying, but takes longer and costs more.",
                        statsChange: { health: +15, stamina: +20, money: -25, day: 0.05, joy: +8 }
                    }
                },
                'scenario_179': {
                    id: 'scenario_179',
                    description: "You hear a faint, rhythmic squeaking coming from your bike. It sounds like a pedal. Do you want to try to tighten it with your multi-tool?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You tighten the pedal. The squeak stops, and your bike feels more solid.",
                        statsChange: { bikeCondition: +2, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it for now. The squeak continues, annoying you and potentially indicating a loosening part.",
                        statsChange: { bikeCondition: -3, joy: -2 }
                    }
                },
                'scenario_180': {
                    id: 'scenario_180',
                    description: "You're getting close to Lafayette, Louisiana, the heart of Cajun Country. Do you want to try to find a local 'zydeco' music spot tonight?",
                    locationTags: ['Lafayette'],
                    cost: { money: 40 },
                    yesOutcome: {
                        message: "You find a lively spot with great music! You dance a bit and feel invigorated, but it's a late night and costs money.",
                        statsChange: { health: +10, stamina: -15, money: -40, day: 1, joy: +15 }
                    },
                    noOutcome: {
                        message: "You prioritize rest. You opt for an early night. You get plenty of rest, feeling refreshed for tomorrow's ride.",
                        statsChange: { health: 100, stamina: 100, day: 1, joy: +5 }
                    }
                },
                'scenario_181': {
                    id: 'scenario_181',
                    description: "You wake up to a beautiful, clear morning. The air is crisp. Do you want to take a moment to do some light stretching before riding?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The stretches feel good, loosening your muscles. You start the day feeling more limber.",
                        statsChange: { stamina: +3, joy: +2 }
                    },
                    noOutcome: {
                        message: "You just hop on your bike. Your muscles feel a bit stiff at first, but you warm up quickly.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_182': {
                    id: 'scenario_182',
                    description: "You're riding through a rural area and see a sign for a small, local museum dedicated to regional history. Do you want to stop for a quick visit?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You learn some interesting facts about the area. It's a nice educational break, but costs a little time.",
                        statsChange: { day: 0.05, joy: +3 }
                    },
                    noOutcome: {
                        message: "You keep going. You pass by. You save time, but miss a chance to learn.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_183': {
                    id: 'scenario_183',
                    description: "You notice your water bottle mount is loose. Do you want to stop to tighten it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You quickly tighten the mount. Your bottle is secure again.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You risk it falling off on a bumpy section. A few miles later, on a rough patch, your water bottle clatters to the ground. Luckily, it doesn't break, but you have to stop and retrieve it.",
                        statsChange: { stamina: -2, joy: -2 }
                    }
                },
                'scenario_184': {
                    id: 'scenario_184',
                    description: "You're feeling a bit bored with the scenery. You have an audiobook downloaded. Do you want to start listening to it to pass the time?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The audiobook makes the miles fly by. You feel entertained, but perhaps a little less aware of the road.",
                        statsChange: { health: -1, joy: +4 }
                    },
                    noOutcome: {
                        message: "You stay alert to your surroundings. You notice more details, but the ride feels longer.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_185': {
                    id: 'scenario_185',
                    description: "You see a small, local convenience store. You're not low on supplies, but you could use a cold drink. Do you want to stop for a refreshing beverage?",
                    locationTags: ['general'],
                    cost: { money: 3 },
                    yesOutcome: {
                        message: "The cold drink is incredibly satisfying! You feel refreshed and re-energized.",
                        statsChange: { stamina: +5, money: -3, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep going. You're a bit thirsty, but you save your money.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_186': {
                    id: 'scenario_186',
                    description: "You encounter a section of road with a lot of loose gravel. Do you want to ride very slowly and carefully?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You ride slowly. It's tricky, but you manage to stay on your bike, though your tires take a minor beating.",
                        statsChange: { bikeCondition: -4, joy: -1 }
                    },
                    noOutcome: {
                        message: "You dismount and walk your bike through it. It's safer for your tires and less risky, but it takes more time and effort.",
                        statsChange: { stamina: -3, day: 0.05, joy: +1 }
                    }
                },
                'scenario_187': {
                    id: 'scenario_187',
                    description: "You feel a slight irritation in your eye. It might be dust or a small insect. Do you want to stop to flush it with water?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You stop and rinse your eye. The irritation subsides, and you feel more comfortable.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You try to blink it out while riding. The irritation persists, distracting you slightly.",
                        statsChange: { health: -2, joy: -2 }
                    }
                },
                'scenario_188': {
                    id: 'scenario_188',
                    description: "You see a sign for a scenic overlook with a beautiful view of the bayou. Do you want to take the short detour to admire the scenery?",
                    locationTags: ['Lafayette', 'Baton Rouge', 'New Orleans'],
                    yesOutcome: {
                        message: "The view is breathtaking! You feel a sense of awe and renewed motivation.",
                        statsChange: { health: +5, joy: +10 }
                    },
                    noOutcome: {
                        message: "You keep riding. You pass by. You save time, but miss a beautiful sight.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_189': {
                    id: 'scenario_189',
                    description: "Your phone battery is getting low again. You remember you bought a portable charger. Do you want to use it now?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You plug in your phone. It charges up, giving you peace of mind for navigation and communication.",
                        statsChange: { joy: +2 }
                    },
                    noOutcome: {
                        message: "You try to conserve battery for emergencies. You feel a bit anxious about losing power, but you're saving it for later.",
                        statsChange: { health: -1, joy: -3 }
                    }
                },
                'scenario_190': {
                    id: 'scenario_190',
                    description: "You're feeling a bit stiff from sitting on the bike. Do you want to stop for a quick stretch break?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You stretch your back and legs. You feel much more comfortable and limber.",
                        statsChange: { stamina: +5, joy: +3 }
                    },
                    noOutcome: {
                        message: "You push through to the next major town. The stiffness slowly turns into a dull ache.",
                        statsChange: { health: -3, joy: -2 }
                    }
                },
                'scenario_191': {
                    id: 'scenario_191',
                    description: "You see a small, local art gallery advertising unique regional artwork. Do you want to stop to browse?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You browse the art. It's inspiring and a nice cultural immersion, but takes some time.",
                        statsChange: { day: 0.05, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding. You pass by. You save time, but miss out on local art.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_192': {
                    id: 'scenario_192',
                    description: "You notice a small, persistent squeak coming from your bottom bracket. Do you want to try to apply some lubricant?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply lubricant. The squeak lessens, and your pedaling feels smoother.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it hoping it goes away. The squeak continues and occasionally gets louder, indicating a potential issue.",
                        statsChange: { bikeCondition: -4, joy: -2 }
                    }
                },
                'scenario_193': {
                    id: 'scenario_193',
                    description: "You're getting very tired, and the sun is setting. You see a sign for a campground a few miles ahead. Do you want to push to make it to the campground?",
                    locationTags: ['general'],
                    cost: { money: 25 },
                    yesOutcome: {
                        message: "You push to the campground. It's a tough ride, but you get a proper campsite and facilities.",
                        statsChange: { stamina: -10, health: -5, money: -25, day: 1, joy: +5 }
                    },
                    noOutcome: {
                        message: "You find a spot to wild camp immediately. It's free, but less comfortable and potentially risky.",
                        statsChange: { health: +10, stamina: +40, day: 1, joy: -5 }
                    }
                },
                'scenario_194': {
                    id: 'scenario_194',
                    description: "The next morning, you notice a small scratch on your bike frame. It's cosmetic, but annoying. Do you want to try to cover it with a sticker?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You cover the scratch with a sticker. It's a small morale boost.",
                        statsChange: { joy: +2 }
                    },
                    noOutcome: {
                        message: "You just leave it. It's just a scratch, but it's a reminder of the rough roads.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_195': {
                    id: 'scenario_195',
                    description: "You come across a small, rural church holding a morning service. You hear gospel music. Do you want to stop for a moment to listen?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The music is uplifting. You feel a sense of peace and community.",
                        statsChange: { health: +3, joy: +7 }
                    },
                    noOutcome: {
                        message: "You keep riding. You pass by. You maintain your pace.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_196': {
                    id: 'scenario_196',
                    description: "You notice a small, persistent leak from your water bottle. Do you want to try to patch it with tape?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply tape. The leak slows significantly, saving your water.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You just deal with the slow leak. The leak continues, slowly but surely draining your water.",
                        statsChange: { stamina: -2, joy: -2 }
                    }
                },
                'scenario_197': {
                    id: 'scenario_197',
                    description: "You're riding on a long, straight road with little to see. Do you want to try to sing to yourself to pass the time?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "Singing helps pass the time and lifts your spirits.",
                        statsChange: { health: +1, joy: +4 }
                    },
                    noOutcome: {
                        message: "You focus on your breathing and rhythm. It's meditative, but the road still feels long.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_198': {
                    id: 'scenario_198',
                    description: "You see a group of cyclists pulled over on the side of the road, looking at a map. Do you want to stop to offer assistance?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You offer help. They appreciate it, and you have a brief, friendly interaction.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You assume they're fine. You keep riding. You save time, but miss a chance to help.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_199': {
                    id: 'scenario_199',
                    description: "You're approaching Baton Rouge, Louisiana. The capital city has some busy areas. Do you want to stick to main roads for directness?",
                    locationTags: ['Baton Rouge'],
                    yesOutcome: {
                        message: "You navigate the main roads. It's faster but more stressful.",
                        statsChange: { stamina: -7, bikeCondition: -3, joy: -2 }
                    },
                    noOutcome: {
                        message: "You try to find quieter residential streets. You weave through quieter streets. It's more pleasant but takes longer.",
                        statsChange: { day: 0.1, joy: +3 }
                    }
                },
                'scenario_200': {
                    id: 'scenario_200',
                    description: "While in Baton Rouge, you pass by the LSU Rural Life Museum. Do you want to take a detour to visit and learn about historical Louisiana life?",
                    locationTags: ['Baton Rouge'],
                    cost: { money: 15 },
                    yesOutcome: {
                        message: "You visit the museum. It's an interesting glimpse into the past, but costs time and money.",
                        statsChange: { money: -15, day: 0.1, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep moving. You pass by. You save time and money.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_201': {
                    id: 'scenario_201',
                    description: "You feel a slight numbness in your feet. Do you want to stop to adjust your shoes and socks?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You adjust your footwear. The numbness subsides, improving comfort.",
                        statsChange: { health: +3, joy: +2 }
                    },
                    noOutcome: {
                        message: "You try to ignore it. The numbness persists and becomes uncomfortable.",
                        statsChange: { health: -4, joy: -3 }
                    }
                },
                'scenario_202': {
                    id: 'scenario_202',
                    description: "You see a small, local bakery with a tempting display of pastries. Do you want to stop for a treat?",
                    locationTags: ['general'],
                    cost: { money: 7 },
                    yesOutcome: {
                        message: "The pastry is delicious! A sweet reward that boosts your spirits.",
                        statsChange: { health: +5, money: -7, joy: +8 }
                    },
                    noOutcome: {
                        message: "You resist the temptation. You save money, but miss out on the treat.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_203': {
                    id: 'scenario_203',
                    description: "You encounter a section of road with a lot of debris (leaves, small branches). Do you want to carefully pick your way through?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You carefully ride through. It's slow, but you avoid walking.",
                        statsChange: { stamina: -2, bikeCondition: -2, joy: -1 }
                    },
                    noOutcome: {
                        message: "You dismount and walk. It's safer for your tires, but takes more time.",
                        statsChange: { day: 0.03, joy: +1 }
                    }
                },
                'scenario_204': {
                    id: 'scenario_204',
                    description: "You're feeling a bit down. Do you want to put on some upbeat music?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The music lifts your spirits and makes the ride more enjoyable.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You try to focus on the goal ahead. It helps, but the ride still feels like a grind.",
                        statsChange: { joy: -2 }
                    }
                },
                'scenario_205': {
                    id: 'scenario_205',
                    description: "You notice a small, loose screw on your bike rack. Do you want to try to tighten it with your multi-tool?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You tighten the screw. Your rack feels more secure.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore it. The screw slowly loosens further, making your rack less stable.",
                        statsChange: { bikeCondition: -1, joy: -1 }
                    }
                },
                'scenario_206': {
                    id: 'scenario_206',
                    description: "You pass a field of sugar cane, stretching as far as the eye can see. Do you want to stop to take a photo?",
                    locationTags: ['Lafayette', 'Baton Rouge', 'New Orleans'],
                    yesOutcome: {
                        message: "You capture a beautiful photo. It's a nice memory of the journey.",
                        statsChange: { joy: +3 }
                    },
                    noOutcome: {
                        message: "You keep riding. You save time, but miss the photo opportunity.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_207': {
                    id: 'scenario_207',
                    description: "You're feeling quite tired, but you're only a few miles from a town with known lodging. Do you want to push through to the town?",
                    locationTags: ['general'],
                    cost: { money: 60 },
                    yesOutcome: {
                        message: "You push through. It's exhausting, but you reach comfortable lodging.",
                        statsChange: { stamina: -10, health: -5, money: -60, day: 1, joy: +5 }
                    },
                    noOutcome: {
                        message: "You stop and rest by the roadside. It's uncomfortable, but you gain some energy back before continuing.",
                        statsChange: { stamina: +20, health: +5, joy: -3 }
                    }
                },
                'scenario_208': {
                    id: 'scenario_208',
                    description: "The next morning, you notice your front derailleur is rubbing slightly. Do you want to try to adjust it yourself?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You make a small adjustment. The rubbing stops, and your shifting feels smoother.",
                        statsChange: { bikeCondition: +1, joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore the minor annoyance. The rubbing continues, slightly impacting your efficiency.",
                        statsChange: { bikeCondition: -2, joy: -1 }
                    }
                },
                'scenario_209': {
                    id: 'scenario_209',
                    description: "You see a small, local historical marker indicating a significant event. Do you want to stop to read about it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You read the marker, learning a bit about the area's past.",
                        statsChange: { joy: +3 }
                    },
                    noOutcome: {
                        message: "You keep riding. You pass by, staying focused on your ride.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_210': {
                    id: 'scenario_210',
                    description: "You're getting low on cash. You see an ATM in a small town. Do you want to stop to withdraw more money?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You withdraw cash. You feel more secure with funds, but it took a moment.",
                        statsChange: { money: +100, joy: +2 } // Assuming you withdraw a fixed amount
                    },
                    noOutcome: {
                        message: "You try to make do with what you have. You decide to conserve cash. You feel a bit anxious about running out.",
                        statsChange: { health: -1, joy: -3 }
                    }
                },
                'scenario_211': {
                    id: 'scenario_211',
                    description: "You encounter a section of road that's recently been paved, and it's incredibly smooth. Do you want to take advantage of the smooth surface to speed up?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You enjoy the smooth ride and pick up speed. It feels great!",
                        statsChange: { stamina: -3, joy: +3 }
                    },
                    noOutcome: {
                        message: "You maintain your usual pace. You still enjoy the smooth road, but don't push yourself.",
                        statsChange: { joy: +1 }
                    }
                },
                'scenario_212': {
                    id: 'scenario_212',
                    description: "You feel a blister forming on your foot. Do you want to stop to apply a bandage?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You apply a bandage. The discomfort lessens, preventing the blister from worsening.",
                        statsChange: { health: +3, joy: +2 }
                    },
                    noOutcome: {
                        message: "You try to ignore it. The blister grows more painful, impacting your comfort.",
                        statsChange: { health: -5, joy: -3 }
                    }
                },
                'scenario_213': {
                    id: 'scenario_213',
                    description: "You see a group of children selling lemonade by the roadside. Do you want to stop to buy a cup and support them?",
                    locationTags: ['general'],
                    cost: { money: 2 },
                    yesOutcome: {
                        message: "The lemonade is refreshing, and you feel good supporting the kids.",
                        statsChange: { stamina: +2, money: -2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You politely decline. You save your money, but miss a cute interaction.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_214': {
                    id: 'scenario_214',
                    description: "You're riding near a large body of water, and a strong tailwind picks up. Do you want to use it to your advantage and really push?",
                    locationTags: ['general', 'Lafayette', 'Baton Rouge', 'New Orleans'],
                    yesOutcome: {
                        message: "You let the tailwind carry you, making excellent time with less effort. It's exhilarating!",
                        statsChange: { stamina: +5, joy: +5 }
                    },
                    noOutcome: {
                        message: "You maintain your steady pace. The tailwind makes it easier, but you don't maximize the benefit.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_215': {
                    id: 'scenario_215',
                    description: "You notice your phone mount is rattling. Do you want to stop to secure it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You secure the mount. The rattling stops, and your phone is safe.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You ignore the noise. The rattling continues, and you worry about your phone falling.",
                        statsChange: { health: -1, joy: -2 }
                    }
                },
                'scenario_216': {
                    id: 'scenario_216',
                    description: "You pass a vibrant mural painted on the side of a building in a small town. Do you want to stop to admire the artwork?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "The mural is beautiful and inspiring. It's a small moment of joy.",
                        statsChange: { health: +1, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding. You are focused on your destination.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_217': {
                    id: 'scenario_217',
                    description: "You're feeling a bit hungry, but you only have one energy bar left. Do you want to eat it now?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You eat the energy bar. It gives you a quick boost.",
                        statsChange: { stamina: +10, inventory: ['-energy bar'], joy: +2 }
                    },
                    noOutcome: {
                        message: "You save it for later when you might need it more. Your hunger persists, but you have a reserve.",
                        statsChange: { stamina: -3, joy: -1 }
                    }
                },
                'scenario_218': {
                    id: 'scenario_218',
                    description: "You encounter a small, temporary roadside stand selling fresh boiled peanuts. Do you want to stop for a unique local snack?",
                    locationTags: ['general', 'East Texas', 'Shreveport', 'Natchitoches', 'Lafayette', 'Baton Rouge'],
                    cost: { money: 5 },
                    yesOutcome: {
                        message: "The boiled peanuts are surprisingly good! A tasty and authentic local experience.",
                        statsChange: { stamina: +3, money: -5, joy: +5 }
                    },
                    noOutcome: {
                        message: "You pass by. You save money, but miss out on the local delicacy.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_219': {
                    id: 'scenario_219',
                    description: "Your bike light seems a bit dim. It's still daytime, but you'll need it soon. Do you want to stop to check the batteries?",
                    locationTags: ['general'],
                    cost: { money: 5 },
                    yesOutcome: {
                        message: "You replace the batteries. Your light is bright, ensuring safety for evening riding.",
                        statsChange: { money: -5, joy: +2 }
                    },
                    noOutcome: {
                        message: "You wait until it's darker. When it gets darker, your light is indeed too dim, making riding difficult.",
                        statsChange: { health: -5, bikeCondition: -2, joy: -3 }
                    }
                },
                'scenario_220': {
                    id: 'scenario_220',
                    description: "You see a beautiful, old oak tree with Spanish moss hanging from its branches. It looks majestic. Do you want to stop to take a moment to appreciate its beauty?",
                    locationTags: ['East Texas', 'Shreveport', 'Natchitoches', 'Lafayette', 'Baton Rouge', 'New Orleans'],
                    yesOutcome: {
                        message: "You take a moment to admire the tree. It's a peaceful and inspiring sight.",
                        statsChange: { health: +2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You keep riding. You are focused on your destination.",
                        statsChange: { joy: -1 }
                    }
                },
                'scenario_221': {
                    id: 'scenario_221',
                    description: "You feel a slight soreness in your shoulders. Do you want to try to adjust your riding posture?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You adjust your posture. The soreness lessens, making the ride more comfortable.",
                        statsChange: { health: +3, joy: +2 }
                    },
                    noOutcome: {
                        message: "You just endure it. The soreness slowly worsens, becoming a distraction.",
                        statsChange: { health: -4, joy: -3 }
                    }
                },
                'scenario_222': {
                    id: 'scenario_222',
                    description: "You pass a small, roadside memorial. Do you want to pause for a moment of reflection?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You pause briefly. It's a somber reminder, but you feel a sense of respect.",
                        statsChange: { joy: +1 }
                    },
                    noOutcome: {
                        message: "You keep riding. You respect the memorial from a distance.",
                        statsChange: { joy: -1 }
                    }
                },
                // Game End Scenarios
                'win': {
                    id: 'win',
                    description: "Congratulations! You made it to New Orleans! You've successfully completed your epic bike journey from Dallas. Time to celebrate with some beignets!",
                    locationTags: [],
                    yesOutcome: { message: "You've won! Enjoy your well-deserved victory!" },
                    noOutcome: { message: "You've won! Enjoy your well-deserved victory!" }
                },
                'lose_health': {
                    id: 'lose_health',
                    description: "Your health has dropped too low. You can no longer continue your journey. You collapse from exhaustion. Game Over.",
                    locationTags: [],
                    yesOutcome: { message: "Game Over." },
                    noOutcome: { message: "Game Over." }
                },
                'lose_stamina': {
                    id: 'lose_stamina',
                    description: "Your stamina has completely run out. You can no longer pedal and are forced to stop. Game Over.",
                    locationTags: [],
                    yesOutcome: { message: "Game Over." },
                    noOutcome: { message: "Game Over." }
                },
                'lose_money': {
                    id: 'lose_money',
                    description: "You've run out of money and can't afford necessary repairs or supplies. Your journey ends here. Game Over.",
                    locationTags: [],
                    yesOutcome: { message: "Game Over." },
                    noOutcome: { message: "Game Over." }
                },
                'lose_bike_condition': {
                    id: 'lose_bike_condition',
                    description: "Your bike is too damaged to continue. You can't fix it or afford new parts. Your journey ends here. Game Over.",
                    locationTags: [],
                    yesOutcome: { message: "Game Over." },
                    noOutcome: { message: "Game Over." }
                },
                'lose_joy': {
                    id: 'lose_joy',
                    description: "Your joy has completely vanished. The journey has become too much to bear, and you've lost the will to continue. Game Over.",
                    locationTags: [],
                    yesOutcome: { message: "Game Over." },
                    noOutcome: { message: "Game Over." }
                },
                'lose_time': { // New scenario for losing due to time limit
                    id: 'lose_time',
                    description: "A devastating hurricane hit New Orleans, and you didn't make it in time. Game Over.",
                    locationTags: [],
                    yesOutcome: { message: "Game Over." },
                    noOutcome: { message: "Game Over." }
                },
                'flat_tire': {
                    id: 'flat_tire',
                    description: "Oh no! You got a flat tire. Do you have a basic repair kit in your inventory to fix it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You use your repair kit and pump to fix the flat. It takes time and effort.",
                        statsChange: { stamina: -15, bikeCondition: +10, day: 0.1, inventory: ['-basic repair kit'], joy: +5 }
                    },
                    noOutcome: {
                        message: "Without a repair kit, you're stranded. You have to walk your bike to the nearest town, losing a lot of time and potentially health. This will be costly.",
                        statsChange: { health: -20, stamina: -30, day: 0.5, money: -50, joy: -10 }
                    }
                },
                'broken_chain': {
                    id: 'broken_chain',
                    description: "Your bike chain just snapped! This is a serious problem. Do you have a chain tool and spare links in your inventory to fix it?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You expertly use your chain tool to repair it. It's a relief, but a significant effort.",
                        statsChange: { stamina: -20, bikeCondition: +15, day: 0.1, inventory: ['-chain tool', '-spare links'], joy: +5 }
                    },
                    noOutcome: {
                        message: "A broken chain means no pedaling. You'll need to walk your bike to a shop or call for help. This is a major setback and will be very costly.",
                        statsChange: { health: -30, stamina: -40, day: 1, money: -100, joy: -15 }
                    }
                },
                'heatstroke': {
                    id: 'heatstroke',
                    description: "The heat has gotten to you. You feel dizzy and nauseous. You're suffering from heatstroke! Do you find shade and drink water immediately?",
                    locationTags: ['general'],
                    yesOutcome: {
                        message: "You find shade, rest, and drink plenty of water. It's a slow recovery, but you pull through.",
                        statsChange: { health: +20, stamina: +10, day: 0.2, joy: +5 }
                    },
                    noOutcome: {
                        message: "You try to push on, but your body gives out. The heat is too much. Game Over.",
                        nextScenarioId: 'lose_health'
                    }
                }
            };

            // Array of scenario IDs that can be randomly selected.
            // Exclude game-ending scenarios and the 'start' scenario.
            const playableScenarioIds = Object.keys(scenarios).filter(id =>
                !['start', 'win', 'lose_health', 'lose_stamina', 'lose_money', 'lose_bike_condition', 'lose_joy', 'lose_time', 'flat_tire', 'broken_chain', 'heatstroke'].includes(id)
            );

            // --- Game Functions ---

            function getLocationByMiles(miles) {
                if (miles >= 510) return 'New Orleans';
                if (miles >= 450) return 'Baton Rouge';
                if (miles >= 350) return 'Lafayette';
                if (miles >= 250) return 'Natchitoches';
                if (miles >= 150) return 'Shreveport';
                if (miles >= 50) return 'East Texas';
                return 'Dallas';
            }

            function updateUI() {
                gameMessageElem.textContent = gameState.message;
                // Display Day and Hour
                const wholeDays = Math.floor(gameState.day);
                const hours = Math.round((gameState.day - wholeDays) * 24);
                dayStatElem.textContent = `Day: ${wholeDays}, Hour: ${hours}`;

                mileStatElem.textContent = gameState.mileCount;
                locationStatElem.textContent = getLocationByMiles(gameState.mileCount); // Dynamic location
                healthStatElem.textContent = gameState.playerStats.health;
                staminaStatElem.textContent = gameState.playerStats.stamina;
                moneyStatElem.textContent = gameState.playerStats.money;
                bikeStatElem.textContent = gameState.playerStats.bikeCondition;
                joyStatElem.textContent = gameState.playerStats.joy; // Update joy stat

                // Update inventory list
                inventoryListElem.innerHTML = ''; // Clear previous list
                if (gameState.playerStats.inventory.length === 0) {
                    const li = document.createElement('li');
                    li.textContent = 'Empty';
                    inventoryListElem.appendChild(li);
                } else {
                    gameState.playerStats.inventory.forEach(item => {
                        const li = document.createElement('li');
                        li.textContent = item;
                        inventoryListElem.appendChild(li);
                    });
                }

                // Show/hide game over panel
                if (gameState.gameOver) {
                    gameOverPanel.classList.remove('hidden');
                    gameScenarioPanel.classList.add('hidden');
                    healthWarningElem.classList.add('hidden'); // Hide warning on game over
                    gameOverMessage.textContent = gameState.message;
                    gameOverMessage.classList.toggle('text-green-600', gameState.gameWon);
                    gameOverMessage.classList.toggle('dark:text-green-400', gameState.gameWon);
                    gameOverMessage.classList.toggle('text-red-600', !gameState.gameWon);
                    gameOverMessage.classList.toggle('dark:text-red-400', !gameState.gameWon);
                } else {
                    gameOverPanel.classList.add('hidden');
                    gameScenarioPanel.classList.remove('hidden');
                    scenarioDescriptionElem.textContent = gameState.currentScenario ? gameState.currentScenario.description : '';

                    // Health warning message
                    if (gameState.playerStats.health > 0 && gameState.playerStats.health < 25) {
                        healthWarningElem.textContent = difficultySettings[gameState.selectedDifficulty].warningMessage;
                        healthWarningElem.classList.remove('hidden');
                    } else {
                        healthWarningElem.classList.add('hidden');
                    }
                }
            }

            function startGame(difficulty) {
                const settings = difficultySettings[difficulty];
                gameState = {
                    currentLocation: 'Dallas',
                    day: 1, // Start at Day 1, Hour 0
                    message: 'Welcome to your epic bike adventure from Dallas to New Orleans!',
                    playerStats: {
                        health: settings.initialStats,
                        stamina: settings.initialStats,
                        money: settings.initialMoney,
                        bikeCondition: settings.initialStats,
                        joy: settings.initialStats,
                        inventory: ['water bottle', 'bike pump', 'basic repair kit', 'energy bar']
                    },
                    currentScenario: scenarios['start'],
                    gameOver: false,
                    gameWon: false,
                    mileCount: 0,
                    selectedDifficulty: difficulty,
                    statChangeMultipliers: settings.statChangeMultipliers
                };

                // Apply midnight theme if challenge difficulty is selected
                if (difficulty === 'challenge') {
                    setTheme('midnight');
                } else {
                    setTheme('light'); // Reset to light theme for other difficulties
                }

                difficultySelectionPanel.classList.add('hidden');
                gameStateDisplay.classList.remove('hidden');
                updateUI();
            }

            function makeChoice(choice) {
                if (gameState.gameOver || gameState.gameWon || !gameState.currentScenario) {
                    return;
                }

                const currentScenario = gameState.currentScenario;
                const outcome = choice === 'yes' ? currentScenario.yesOutcome : currentScenario.noOutcome;
                const cost = currentScenario.cost;

                // Check for insufficient funds for 'yes' choice
                if (choice === 'yes' && cost && cost.money && gameState.playerStats.money < cost.money) {
                    gameState.message = `You don't have enough money ($${gameState.playerStats.money}) to do that (requires $${cost.money}).`;
                    updateUI();
                    return; // Prevent the action if insufficient funds
                }

                const newStats = { ...gameState.playerStats };

                // --- 1. Apply Passive Stat Degradation (for every 2-hour interval) ---
                // These are base degradations before any scenario-specific changes.
                // These will be modified by the difficulty's 'decrease' multiplier.
                const passiveDegradation = {
                    health: -1,
                    stamina: -3, // Stamina degrades faster with constant riding
                    bikeCondition: -1,
                    joy: -1
                };

                for (const stat in passiveDegradation) {
                    let change = passiveDegradation[stat];
                    change = Math.round(change * gameState.statChangeMultipliers.decrease); // Apply decrease multiplier
                    newStats[stat] = (newStats[stat] || 0) + change;
                }

                // --- 2. Apply Scenario-Specific Stat Changes ---
                if (outcome.statsChange) {
                    for (const key in outcome.statsChange) {
                        if (key === 'inventory') {
                            const inventoryChanges = outcome.statsChange[key];
                            const currentInventory = [...newStats.inventory];
                            inventoryChanges.forEach(itemChange => {
                                if (itemChange.startsWith('-')) {
                                    const itemToRemove = itemChange.substring(1);
                                    const index = currentInventory.indexOf(itemToRemove);
                                    if (index > -1) {
                                        currentInventory.splice(index, 1);
                                    }
                                } else {
                                    currentInventory.push(itemChange);
                                }
                            });
                            newStats.inventory = currentInventory;
                        } else {
                            let change = outcome.statsChange[key];
                            // Apply difficulty multipliers to scenario-specific stat changes
                            if (change > 0) {
                                change = Math.round(change * gameState.statChangeMultipliers.increase);
                            } else if (change < 0) {
                                change = Math.round(change * gameState.statChangeMultipliers.decrease);
                            }
                            newStats[key] = (newStats[key] || 0) + change;
                        }
                    }
                }

                // Ensure stats remain within valid bounds (0-100 for percentages, 0-1000 for money)
                newStats.health = Math.max(0, Math.min(100, newStats.health));
                newStats.stamina = Math.max(0, Math.min(100, newStats.stamina));
                newStats.bikeCondition = Math.max(0, Math.min(100, newStats.bikeCondition));
                newStats.joy = Math.max(0, Math.min(100, newStats.joy));
                newStats.money = Math.max(0, Math.min(1000, newStats.money)); // Cap money at 1000

                // Base time for each scenario (2 hours)
                const baseTimeIncrement = 2 / 24; // 2 hours in days

                // Additional time from the scenario's outcome (if any).
                // If the scenario explicitly sets a 'day' change, it's considered a "stop" event.
                const additionalTimeIncrement = outcome.statsChange?.day !== undefined ? outcome.statsChange.day : 0;

                // Total time increment for this action
                const newDay = gameState.day + baseTimeIncrement + additionalTimeIncrement;

                let milesGained = 0;
                // Only gain miles if it's a "travel" segment (i.e., no explicit 'day' change or 'day' change is 0)
                // Scenarios with explicit 'day' changes are generally stops where you don't travel.
                if (additionalTimeIncrement === 0) { // This means it's a default 2-hour travel segment
                    const currentStamina = newStats.stamina; // Use newStats as stamina might have changed
                    const baseTravelSpeedMPH = 5; // Base speed in miles per hour
                    const minTravelSpeedMPH = 3; // Minimum speed in miles per hour at 1% stamina

                    let actualSpeedMPH;
                    if (currentStamina >= 30) {
                        actualSpeedMPH = baseTravelSpeedMPH;
                    } else {
                        // Linear interpolation: speed goes from 5 at 30% to 3 at 1%
                        // Formula: minSpeed + ((currentStamina - 1) / (maxStaminaForReduction - 1)) * (baseSpeed - minSpeed)
                        actualSpeedMPH = minTravelSpeedMPH + ((currentStamina - 1) / 29) * (baseTravelSpeedMPH - minTravelSpeedMPH);
                        actualSpeedMPH = Math.max(minTravelSpeedMPH, Math.min(baseTravelSpeedMPH, actualSpeedMPH)); // Clamp between min and max speed
                    }
                    milesGained = Math.round(actualSpeedMPH * 2); // 2 hours of travel
                }

                // Update mileCount
                let newMileCount = gameState.mileCount + milesGained;


                let nextScenario = null;
                let gameOver = false;
                let gameWon = false;
                let finalMessage = outcome.message;

                // Check for game over conditions due to time limit FIRST
                const timeLimit = difficultySettings[gameState.selectedDifficulty].timeLimitDays;
                if (newDay > timeLimit && newMileCount < 510) {
                    gameOver = true;
                    finalMessage = scenarios['lose_time'].description;
                    nextScenario = scenarios['lose_time'];
                }
                // Check for other game over conditions
                else if (newStats.health <= 0) {
                    gameOver = true;
                    finalMessage = scenarios['lose_health'].description;
                    nextScenario = scenarios['lose_health'];
                } else if (newStats.stamina <= 0) {
                    gameOver = true;
                    finalMessage = scenarios['lose_stamina'].description;
                    nextScenario = scenarios['lose_stamina'];
                } else if (newStats.money <= 0) {
                    gameOver = true;
                    finalMessage = scenarios['lose_money'].description;
                    nextScenario = scenarios['lose_money'];
                } else if (newStats.bikeCondition <= 0) {
                    gameOver = true;
                    finalMessage = scenarios['lose_bike_condition'].description;
                    nextScenario = scenarios['lose_bike_condition'];
                } else if (newStats.joy <= 0) {
                    gameOver = true;
                    finalMessage = scenarios['lose_joy'].description;
                    nextScenario = scenarios['lose_joy'];
                }
                // Check for win condition
                else if (newMileCount >= 510) {
                    gameWon = true;
                    gameOver = true; // Game is over when won
                    finalMessage = scenarios['win'].description;
                    nextScenario = scenarios['win'];
                }
                // Handle specific next scenarios (e.g., flat_tire, broken_chain, heatstroke)
                else if (outcome.nextScenarioId && ['flat_tire', 'broken_chain', 'heatstroke'].includes(outcome.nextScenarioId)) {
                    nextScenario = scenarios[outcome.nextScenarioId];
                }
                // Otherwise, pick a random scenario based on location
                else {
                    const currentLocationTag = getLocationByMiles(newMileCount);
                    const availableScenarioIds = playableScenarioIds.filter(id =>
                        scenarios[id].locationTags.includes(currentLocationTag) || scenarios[id].locationTags.includes('general')
                    );

                    if (availableScenarioIds.length > 0) {
                        const randomIndex = Math.floor(Math.random() * availableScenarioIds.length);
                        const randomScenarioId = availableScenarioIds[randomIndex];
                        nextScenario = scenarios[randomScenarioId];
                    } else {
                        // Fallback if no specific or general scenarios are left (shouldn't happen with enough scenarios)
                        // For now, just pick any random if location-specific fails to find one.
                        const randomIndex = Math.floor(Math.random() * playableScenarioIds.length);
                        const randomScenarioId = playableScenarioIds[randomIndex];
                        nextScenario = scenarios[randomScenarioId];
                    }
                }

                // Update game state
                gameState = {
                    currentLocation: getLocationByMiles(newMileCount),
                    day: newDay,
                    message: finalMessage,
                    playerStats: newStats,
                    currentScenario: nextScenario,
                    gameOver: gameOver,
                    gameWon: gameWon,
                    mileCount: newMileCount,
                    selectedDifficulty: gameState.selectedDifficulty, // Preserve difficulty
                    statChangeMultipliers: gameState.statChangeMultipliers // Preserve multipliers
                };

                updateUI();
            }

            // --- Theme Functions ---
            function setTheme(theme) {
                body.classList.remove('light', 'dark', 'midnight');
                body.classList.add(theme);

                // Update button active states
                lightThemeBtn.classList.remove('bg-blue-500', 'text-white');
                lightThemeBtn.classList.add('bg-gray-200', 'text-gray-800');
                darkThemeBtn.classList.remove('bg-blue-500', 'text-white');
                darkThemeBtn.classList.add('bg-gray-200', 'text-gray-800');
                midnightThemeBtn.classList.remove('bg-blue-500', 'text-white');
                midnightThemeBtn.classList.add('bg-gray-200', 'text-gray-800');

                if (theme === 'light') {
                    lightThemeBtn.classList.remove('bg-gray-200', 'text-gray-800');
                    lightThemeBtn.classList.add('bg-blue-500', 'text-white');
                } else if (theme === 'dark') {
                    darkThemeBtn.classList.remove('bg-gray-200', 'text-gray-800');
                    darkThemeBtn.classList.add('bg-blue-500', 'text-white');
                } else if (theme === 'midnight') {
                    midnightThemeBtn.classList.remove('bg-gray-200', 'text-gray-800');
                    midnightThemeBtn.classList.add('bg-blue-500', 'text-white');
                }
            }

            // --- Event Listeners ---
            yesBtn.addEventListener('click', () => makeChoice('yes'));
            noBtn.addEventListener('click', () => makeChoice('no'));

            // Start New Game button (after game over)
            startGameBtn.addEventListener('click', () => {
                gameOverPanel.classList.add('hidden');
                difficultySelectionPanel.classList.remove('hidden');
                gameStateDisplay.classList.add('hidden'); // Hide game display until difficulty chosen
                setTheme('light'); // Reset theme to light when starting a new game
            });

            // Difficulty selection buttons
            easyBtn.addEventListener('click', () => startGame('easy'));
            normalBtn.addEventListener('click', () => startGame('normal'));
            hardBtn.addEventListener('click', () => startGame('hard'));
            challengeBtn.addEventListener('click', () => startGame('challenge'));

            lightThemeBtn.addEventListener('click', () => setTheme('light'));
            darkThemeBtn.addEventListener('click', () => setTheme('dark'));
            midnightThemeBtn.addEventListener('click', () => setTheme('midnight'));

            // Initial theme setting
            setTheme('light');
        });
    </script>
</body>
</html>
